{"expireTime":9007200861245601000,"key":"gatsby-plugin-mdx-entire-payload-4d75bdd89156882cf03d09e1b2abe7e1-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/i353408/Vagrant/www/repos/documentation/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":125,"offset":126},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":128},"end":{"line":5,"column":29,"offset":156},"indent":[]}},{"type":"import","value":"import ReplaceVersion from \"../components/ReplaceVersion\";","position":{"start":{"line":8,"column":1,"offset":159},"end":{"line":8,"column":59,"offset":217},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Installation","position":{"start":{"line":10,"column":3,"offset":221},"end":{"line":10,"column":15,"offset":233},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":219},"end":{"line":10,"column":15,"offset":233},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Kerberos Open Source comes with different installation flavours. So you might think, why?  The reason is simple, depending on the use case one option is better than another. A short list of recommendations:","position":{"start":{"line":12,"column":1,"offset":235},"end":{"line":12,"column":207,"offset":441},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":235},"end":{"line":12,"column":207,"offset":441},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Plug and play","position":{"start":{"line":14,"column":5,"offset":447},"end":{"line":14,"column":18,"offset":460},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":443},"end":{"line":14,"column":18,"offset":460},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/opensource/installation#kios","children":[{"type":"text","value":"KiOS","position":{"start":{"line":15,"column":5,"offset":465},"end":{"line":15,"column":9,"offset":469},"indent":[]}}],"position":{"start":{"line":15,"column":4,"offset":464},"end":{"line":15,"column":41,"offset":501},"indent":[]}},{"type":"text","value":": You have a Raspberry Pi, and you only want to run a Kerberos agent on it.","position":{"start":{"line":15,"column":41,"offset":501},"end":{"line":15,"column":116,"offset":576},"indent":[]}}],"position":{"start":{"line":15,"column":4,"offset":464},"end":{"line":15,"column":116,"offset":576},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":461},"end":{"line":15,"column":116,"offset":576},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/opensource/installation#docker","children":[{"type":"text","value":"Docker","position":{"start":{"line":16,"column":5,"offset":581},"end":{"line":16,"column":11,"offset":587},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":580},"end":{"line":16,"column":45,"offset":621},"indent":[]}},{"type":"text","value":": You have a lot of IP cameras, and/or don't want to mess with dependencies.","position":{"start":{"line":16,"column":45,"offset":621},"end":{"line":16,"column":121,"offset":697},"indent":[]}}],"position":{"start":{"line":16,"column":4,"offset":580},"end":{"line":16,"column":121,"offset":697},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":577},"end":{"line":16,"column":121,"offset":697},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/opensource/installation#balena","children":[{"type":"text","value":"Balena","position":{"start":{"line":17,"column":5,"offset":702},"end":{"line":17,"column":11,"offset":708},"indent":[]}}],"position":{"start":{"line":17,"column":4,"offset":701},"end":{"line":17,"column":45,"offset":742},"indent":[]}},{"type":"text","value":": Runnning the Kerberos Docker container on top of Balena.","position":{"start":{"line":17,"column":45,"offset":742},"end":{"line":17,"column":103,"offset":800},"indent":[]}}],"position":{"start":{"line":17,"column":4,"offset":701},"end":{"line":17,"column":103,"offset":800},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":698},"end":{"line":17,"column":103,"offset":800},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":461},"end":{"line":17,"column":103,"offset":800},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Advanced","position":{"start":{"line":19,"column":5,"offset":806},"end":{"line":19,"column":13,"offset":814},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":802},"end":{"line":19,"column":13,"offset":814},"indent":[]}},{"type":"list","ordered":true,"start":4,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/opensource/installation-advanced#raspbian","children":[{"type":"text","value":"Raspbian","position":{"start":{"line":20,"column":5,"offset":819},"end":{"line":20,"column":13,"offset":827},"indent":[]}}],"position":{"start":{"line":20,"column":4,"offset":818},"end":{"line":20,"column":58,"offset":872},"indent":[]}},{"type":"text","value":": You have a Raspberry Pi, but you want other services running next to the Kerberos agent.","position":{"start":{"line":20,"column":58,"offset":872},"end":{"line":20,"column":148,"offset":962},"indent":[]}}],"position":{"start":{"line":20,"column":4,"offset":818},"end":{"line":20,"column":148,"offset":962},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":815},"end":{"line":20,"column":148,"offset":962},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/opensource/installation-advanced#generic","children":[{"type":"text","value":"Generic","position":{"start":{"line":21,"column":5,"offset":967},"end":{"line":21,"column":12,"offset":974},"indent":[]}}],"position":{"start":{"line":21,"column":4,"offset":966},"end":{"line":21,"column":56,"offset":1018},"indent":[]}},{"type":"text","value":": You want to develop/extend Kerberos with your own features, or you want to run a Kerberos agent on a not supported OS/architecure.","position":{"start":{"line":21,"column":56,"offset":1018},"end":{"line":21,"column":188,"offset":1150},"indent":[]}}],"position":{"start":{"line":21,"column":4,"offset":966},"end":{"line":21,"column":188,"offset":1150},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":963},"end":{"line":21,"column":188,"offset":1150},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":815},"end":{"line":21,"column":188,"offset":1150},"indent":[1]}},{"type":"thematicBreak","position":{"start":{"line":23,"column":1,"offset":1152},"end":{"line":23,"column":4,"offset":1155},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"Advanced","position":{"start":{"line":25,"column":3,"offset":1159},"end":{"line":25,"column":11,"offset":1167},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1157},"end":{"line":25,"column":11,"offset":1167},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Following installation methods are only for advanced users, who need to have more control over the Kerberos Open Source environment.","position":{"start":{"line":27,"column":1,"offset":1169},"end":{"line":27,"column":133,"offset":1301},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1169},"end":{"line":27,"column":133,"offset":1301},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Raspbian","position":{"start":{"line":29,"column":4,"offset":1306},"end":{"line":29,"column":12,"offset":1314},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1303},"end":{"line":29,"column":12,"offset":1314},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you have already an OS (e.g. Raspbian Buster) flashed to your Raspberry Pi, then it makes sense to install the Kerberos agent on top of your existing OS. There are two ways to achieve this:","position":{"start":{"line":31,"column":1,"offset":1316},"end":{"line":31,"column":193,"offset":1508},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1316},"end":{"line":31,"column":193,"offset":1508},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install the Kerberos agent using Docker (more info below),","position":{"start":{"line":33,"column":4,"offset":1513},"end":{"line":33,"column":62,"offset":1571},"indent":[]}}],"position":{"start":{"line":33,"column":4,"offset":1513},"end":{"line":33,"column":62,"offset":1571},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1510},"end":{"line":33,"column":62,"offset":1571},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"or you can install the Kerberos agent manually (machinery + web).","position":{"start":{"line":34,"column":4,"offset":1575},"end":{"line":34,"column":69,"offset":1640},"indent":[]}}],"position":{"start":{"line":34,"column":4,"offset":1575},"end":{"line":34,"column":69,"offset":1640},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1572},"end":{"line":34,"column":69,"offset":1640},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1510},"end":{"line":34,"column":69,"offset":1640},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This section will focus on option 2, and will show you how to install the Kerberos agent manually.","position":{"start":{"line":36,"column":1,"offset":1642},"end":{"line":36,"column":99,"offset":1740},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1642},"end":{"line":36,"column":99,"offset":1740},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Update OS","position":{"start":{"line":38,"column":5,"offset":1746},"end":{"line":38,"column":14,"offset":1755},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1742},"end":{"line":38,"column":14,"offset":1755},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let's start with updating the OS, and installing a couple of packages.","position":{"start":{"line":40,"column":1,"offset":1757},"end":{"line":40,"column":71,"offset":1827},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1757},"end":{"line":40,"column":71,"offset":1827},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"We have tested the Raspbian installation on ","position":{"start":{"line":42,"column":3,"offset":1831},"end":{"line":42,"column":47,"offset":1875},"indent":[]}},{"type":"inlineCode","value":"Raspbian GNU/Linux 10 (buster)","position":{"start":{"line":42,"column":47,"offset":1875},"end":{"line":42,"column":79,"offset":1907},"indent":[]}},{"type":"text","value":". It might be that if you have a different version of Raspbian, you will need to install additional/different packages.","position":{"start":{"line":42,"column":79,"offset":1907},"end":{"line":42,"column":198,"offset":2026},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":1831},"end":{"line":42,"column":198,"offset":2026},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1829},"end":{"line":42,"column":198,"offset":2026},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo apt-get update && sudo apt-get install -y ffmpeg","position":{"start":{"line":44,"column":1,"offset":2028},"end":{"line":46,"column":4,"offset":2091},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Machinery","position":{"start":{"line":48,"column":5,"offset":2097},"end":{"line":48,"column":14,"offset":2106},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":2093},"end":{"line":48,"column":14,"offset":2106},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Download the debian file from the machinery repository.","position":{"start":{"line":50,"column":1,"offset":2108},"end":{"line":50,"column":56,"offset":2163},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2108},"end":{"line":50,"column":56,"offset":2163},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/kerberos-io/machinery/releases","children":[{"type":"text","value":"https://github.com/kerberos-io/machinery/releases","position":{"start":{"line":51,"column":3,"offset":2166},"end":{"line":51,"column":52,"offset":2215},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":2166},"end":{"line":51,"column":52,"offset":2215},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":2166},"end":{"line":51,"column":52,"offset":2215},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2164},"end":{"line":51,"column":52,"offset":2215},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":53,"column":1,"offset":2217},"end":{"line":53,"column":3,"offset":2219},"indent":[]}},{"type":"inlineCode","value":".deb","position":{"start":{"line":53,"column":3,"offset":2219},"end":{"line":53,"column":9,"offset":2225},"indent":[]}},{"type":"text","value":" file is available for every version of the Raspberry Pi. For example if you are using a Raspberry Pi 4 for version 2.8.0, execute following command. You can change the version and Raspberry Pi board to your needs.","position":{"start":{"line":53,"column":9,"offset":2225},"end":{"line":53,"column":223,"offset":2439},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2217},"end":{"line":53,"column":223,"offset":2439},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Please make sure you pick the right board (rpi, rpi2, rpi3 or rpi4), and choose the version you want (e.g. 2.8.0). Replace below url, with your preferences.","position":{"start":{"line":55,"column":3,"offset":2443},"end":{"line":55,"column":159,"offset":2599},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":2443},"end":{"line":55,"column":159,"offset":2599},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2441},"end":{"line":55,"column":159,"offset":2599},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"wget https://github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-machinery-kerberosio-armhf-2.8.0.deb\nsudo dpkg -i rpi4-machinery-kerberosio-armhf-2.8.0.deb","position":{"start":{"line":57,"column":1,"offset":2601},"end":{"line":60,"column":4,"offset":2778},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Download the x265 library (version 160) from the machinery repository, as Raspbian Buster 10 only ships with version 165. Make sure you select the right board.","position":{"start":{"line":62,"column":1,"offset":2780},"end":{"line":62,"column":160,"offset":2939},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2780},"end":{"line":62,"column":160,"offset":2939},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"v2.8.0/rpi4-libx265.so.160","position":{"start":{"line":64,"column":3,"offset":2943},"end":{"line":64,"column":31,"offset":2971},"indent":[]}},{"type":"text","value":" this will download the libx265 shared library for the Raspberry Pi 4.","position":{"start":{"line":64,"column":31,"offset":2971},"end":{"line":64,"column":101,"offset":3041},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":2943},"end":{"line":64,"column":101,"offset":3041},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":2941},"end":{"line":64,"column":101,"offset":3041},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"wget https://github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-libx265.so.160\nsudo mv rpi4-libx265.so.160 /usr/lib/arm-linux-gnueabihf/libx265.so.160","position":{"start":{"line":66,"column":1,"offset":3043},"end":{"line":69,"column":4,"offset":3215},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Same applies for the libx264 library, download the right shared library.","position":{"start":{"line":71,"column":1,"offset":3217},"end":{"line":71,"column":73,"offset":3289},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":3217},"end":{"line":71,"column":73,"offset":3289},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"v2.8.0/rpi4-libx264.so.148","position":{"start":{"line":73,"column":3,"offset":3293},"end":{"line":73,"column":31,"offset":3321},"indent":[]}},{"type":"text","value":" this will download the libx264 shared library for the Raspberry Pi 4.","position":{"start":{"line":73,"column":31,"offset":3321},"end":{"line":73,"column":101,"offset":3391},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":3293},"end":{"line":73,"column":101,"offset":3391},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3291},"end":{"line":73,"column":101,"offset":3391},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"wget https://github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-libx264.so.148\nsudo mv rpi4-libx264.so.148 /usr/lib/arm-linux-gnueabihf/libx264.so.148","position":{"start":{"line":75,"column":1,"offset":3393},"end":{"line":78,"column":4,"offset":3565},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you wish to use the Raspberry Pi Camera Module, make sure ","position":{"start":{"line":80,"column":1,"offset":3567},"end":{"line":80,"column":62,"offset":3628},"indent":[]}},{"type":"link","title":null,"url":"https://www.raspberrypi.org/documentation/configuration/camera.md","children":[{"type":"text","value":"to enable it","position":{"start":{"line":80,"column":63,"offset":3629},"end":{"line":80,"column":75,"offset":3641},"indent":[]}}],"position":{"start":{"line":80,"column":62,"offset":3628},"end":{"line":80,"column":143,"offset":3709},"indent":[]}},{"type":"text","value":" using ","position":{"start":{"line":80,"column":143,"offset":3709},"end":{"line":80,"column":150,"offset":3716},"indent":[]}},{"type":"inlineCode","value":"sudo raspi-config","position":{"start":{"line":80,"column":150,"offset":3716},"end":{"line":80,"column":169,"offset":3735},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":80,"column":169,"offset":3735},"end":{"line":80,"column":170,"offset":3736},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":3567},"end":{"line":80,"column":170,"offset":3736},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo raspi-config","position":{"start":{"line":82,"column":1,"offset":3738},"end":{"line":84,"column":4,"offset":3765},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Enable machinery to start on boot, and start the service.","position":{"start":{"line":86,"column":1,"offset":3767},"end":{"line":86,"column":58,"offset":3824},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":3767},"end":{"line":86,"column":58,"offset":3824},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"sudo systemctl enable kerberosio\nsudo service kerberosio start","position":{"start":{"line":88,"column":1,"offset":3826},"end":{"line":91,"column":4,"offset":3896},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Web","position":{"start":{"line":93,"column":5,"offset":3902},"end":{"line":93,"column":8,"offset":3905},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3898},"end":{"line":93,"column":8,"offset":3905},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before you can run the web interface, you'll need to download and configure a webserver. We recommend to use Nginx, as it is a light-weight and fast webserver. The web interface is written in PHP, so we also need to download PHP and some packages. Update the packages and kernel.","position":{"start":{"line":95,"column":1,"offset":3907},"end":{"line":95,"column":280,"offset":4186},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3907},"end":{"line":95,"column":280,"offset":4186},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Install Nginx and PHP (+extensions).","position":{"start":{"line":97,"column":1,"offset":4188},"end":{"line":97,"column":37,"offset":4224},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":4188},"end":{"line":97,"column":37,"offset":4224},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo apt-get install -y nginx php7.1 php7.1-curl php7.1-gd php7.1-fpm php7.1-cli php7.1-opcache php7.1-mbstring php7.1-xml php7.1-zip php7.1-mcrypt php7.1-readline","position":{"start":{"line":99,"column":1,"offset":4226},"end":{"line":101,"column":4,"offset":4399},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Creating a Nginx config.","position":{"start":{"line":103,"column":1,"offset":4401},"end":{"line":103,"column":25,"offset":4425},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":4401},"end":{"line":103,"column":25,"offset":4425},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo rm -f /etc/nginx/sites-enabled/default\nsudo nano /etc/nginx/sites-enabled/kerberosio.conf","position":{"start":{"line":105,"column":1,"offset":4427},"end":{"line":108,"column":4,"offset":4531},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Copy and paste following config file; this file tells nginx where the web will be installed and that it requires PHP.","position":{"start":{"line":110,"column":1,"offset":4533},"end":{"line":110,"column":118,"offset":4650},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":4533},"end":{"line":110,"column":118,"offset":4650},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"server\n{\n    listen 80 default_server;\n    listen [::]:80 default_server;\n    root /var/www/web/public;\n    server_name kerberos.rpi;\n    index index.php index.html index.htm;\n    location /\n    {\n            autoindex on;\n            try_files $uri $uri/ /index.php?$query_string;\n    }\n    location ~ \\.php$\n    {\n            fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include fastcgi_params;\n    }\n}","position":{"start":{"line":112,"column":1,"offset":4652},"end":{"line":132,"column":4,"offset":5159},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Restart nginx","position":{"start":{"line":134,"column":1,"offset":5161},"end":{"line":134,"column":14,"offset":5174},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":5161},"end":{"line":134,"column":14,"offset":5174},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo service nginx restart","position":{"start":{"line":136,"column":1,"offset":5176},"end":{"line":138,"column":4,"offset":5212},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we have installed all the dependencies, we can download the web interface source code.","position":{"start":{"line":140,"column":1,"offset":5214},"end":{"line":140,"column":91,"offset":5304},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":5214},"end":{"line":140,"column":91,"offset":5304},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo mkdir -p /var/www/web && sudo chown www-data:www-data /var/www/web\ncd /var/www/web\nsudo -u www-data wget https://github.com/kerberos-io/web/releases/download/v2.8.0/web.tar.gz\nsudo -u www-data tar xvf web.tar.gz .\nsudo chown www-data -R storage bootstrap/cache config/kerberos.php\nsudo chmod -R 775 storage bootstrap/cache\nsudo chmod 0600 config/kerberos.php","position":{"start":{"line":142,"column":1,"offset":5306},"end":{"line":150,"column":4,"offset":5679},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once everything is setup correctly, you should be able to browse towards the ip-address of your Raspberry Pi and see the Kerberos web interface.","position":{"start":{"line":152,"column":1,"offset":5681},"end":{"line":152,"column":145,"offset":5825},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":5681},"end":{"line":152,"column":145,"offset":5825},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Auto removal","position":{"start":{"line":154,"column":5,"offset":5831},"end":{"line":154,"column":17,"offset":5843},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":5827},"end":{"line":154,"column":17,"offset":5843},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default images or videos aren't removed automatically. This means that the Kerberos agent will keep writing to disk, even if there is no more space available on your SD card. When your SD card is full you'll be experiencing strange errors: a corrupt web interface, blank images or corrupt videos.","position":{"start":{"line":156,"column":1,"offset":5845},"end":{"line":156,"column":300,"offset":6144},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":5845},"end":{"line":156,"column":300,"offset":6144},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To resolve this your should install a simple bash script and initiate a cronjob which continuously poll your filesystem, and start removing media when your disk is getting full.","position":{"start":{"line":158,"column":1,"offset":6146},"end":{"line":158,"column":178,"offset":6323},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":6146},"end":{"line":158,"column":178,"offset":6323},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a bash script and copy following script.","position":{"start":{"line":160,"column":1,"offset":6325},"end":{"line":160,"column":48,"offset":6372},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":6325},"end":{"line":160,"column":48,"offset":6372},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"nano /home/pi/autoremoval.sh","position":{"start":{"line":162,"column":1,"offset":6374},"end":{"line":164,"column":4,"offset":6414},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Copy following script (make sure the partition is correct, this is the default one for a Raspberry Pi).","position":{"start":{"line":166,"column":1,"offset":6416},"end":{"line":166,"column":104,"offset":6519},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":6416},"end":{"line":166,"column":104,"offset":6519},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"partition=/dev/root\nimagedir=/etc/opt/kerberosio/capture/\nif [[ $(df -h | grep $partition | head -1 | awk -F' ' '{ print $5/1 }' | tr ['%'] [\"0\"]) -gt 90 ]];\nthen\n    echo \"Cleaning disk\"\n    find $imagedir -type f | sort | head -n 100 | xargs -r rm -rf;\nfi;","position":{"start":{"line":168,"column":1,"offset":6521},"end":{"line":176,"column":4,"offset":6791},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Make the script executable.","position":{"start":{"line":178,"column":1,"offset":6793},"end":{"line":178,"column":28,"offset":6820},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":6793},"end":{"line":178,"column":28,"offset":6820},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"chmod +x /home/pi/autoremoval.sh","position":{"start":{"line":180,"column":1,"offset":6822},"end":{"line":182,"column":4,"offset":6866},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Initiate a cronjob, and select the nano editor.","position":{"start":{"line":184,"column":1,"offset":6868},"end":{"line":184,"column":48,"offset":6915},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":6868},"end":{"line":184,"column":48,"offset":6915},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"crontab -e","position":{"start":{"line":186,"column":1,"offset":6917},"end":{"line":188,"column":4,"offset":6939},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Append following line, to execute the autoremoval.sh script every 5min.","position":{"start":{"line":190,"column":1,"offset":6941},"end":{"line":190,"column":72,"offset":7012},"indent":[]}}],"position":{"start":{"line":190,"column":1,"offset":6941},"end":{"line":190,"column":72,"offset":7012},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"*/5 * * * * /bin/bash /home/pi/autoremoval.sh","position":{"start":{"line":192,"column":1,"offset":7014},"end":{"line":194,"column":4,"offset":7071},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Generic","position":{"start":{"line":196,"column":4,"offset":7076},"end":{"line":196,"column":11,"offset":7083},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":7073},"end":{"line":196,"column":11,"offset":7083},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to install the Kerberos agent from source on your working station or server, either for development or running the software, this is the preferred installation procedure. We are assuming that you use a Linux OS, when using Mac OSX the installation is slightly different.","position":{"start":{"line":198,"column":1,"offset":7085},"end":{"line":198,"column":283,"offset":7367},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":7085},"end":{"line":198,"column":283,"offset":7367},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"This was tested on a Ubuntu VM (18.04.3 (LTS) x64).","position":{"start":{"line":200,"column":3,"offset":7371},"end":{"line":200,"column":54,"offset":7422},"indent":[]}}],"position":{"start":{"line":200,"column":3,"offset":7371},"end":{"line":200,"column":54,"offset":7422},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":7369},"end":{"line":200,"column":54,"offset":7422},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Machinery","position":{"start":{"line":202,"column":5,"offset":7428},"end":{"line":202,"column":14,"offset":7437},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":7424},"end":{"line":202,"column":14,"offset":7437},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Update the packages and kernel, and install some development tools.","position":{"start":{"line":204,"column":1,"offset":7439},"end":{"line":204,"column":68,"offset":7506},"indent":[]}}],"position":{"start":{"line":204,"column":1,"offset":7439},"end":{"line":204,"column":68,"offset":7506},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo apt-get -y update\nsudo apt-get install -y git cmake subversion dh-autoreconf libcurl4-openssl-dev yasm libx264-dev pkg-config libssl-dev","position":{"start":{"line":206,"column":1,"offset":7508},"end":{"line":209,"column":4,"offset":7659},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Install the FFmpeg library with x264 support.","position":{"start":{"line":211,"column":1,"offset":7661},"end":{"line":211,"column":46,"offset":7706},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":7661},"end":{"line":211,"column":46,"offset":7706},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"It's recommended to install FFmpeg 3.1. Later versions might give issues at compilation or run time.","position":{"start":{"line":213,"column":3,"offset":7710},"end":{"line":213,"column":103,"offset":7810},"indent":[]}}],"position":{"start":{"line":213,"column":3,"offset":7710},"end":{"line":213,"column":103,"offset":7810},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":7708},"end":{"line":213,"column":103,"offset":7810},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"git clone https://github.com/FFmpeg/FFmpeg ffmpeg\ncd ffmpeg && git checkout remotes/origin/release/3.1\n./configure --enable-gpl --enable-libx264 --enable-shared --prefix=/usr\nmake && sudo make install","position":{"start":{"line":215,"column":1,"offset":7812},"end":{"line":220,"column":4,"offset":8022},"indent":[1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Go to your home directory, or any place your prefer and pull the machinery from Github. Afterwards create a build directory and start the compilation.","position":{"start":{"line":222,"column":1,"offset":8024},"end":{"line":222,"column":151,"offset":8174},"indent":[]}}],"position":{"start":{"line":222,"column":1,"offset":8024},"end":{"line":222,"column":151,"offset":8174},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"You can change the ","position":{"start":{"line":224,"column":3,"offset":8178},"end":{"line":224,"column":22,"offset":8197},"indent":[]}},{"type":"inlineCode","value":"-j","position":{"start":{"line":224,"column":22,"offset":8197},"end":{"line":224,"column":26,"offset":8201},"indent":[]}},{"type":"text","value":" attribute of ","position":{"start":{"line":224,"column":26,"offset":8201},"end":{"line":224,"column":40,"offset":8215},"indent":[]}},{"type":"inlineCode","value":"make -j8","position":{"start":{"line":224,"column":40,"offset":8215},"end":{"line":224,"column":50,"offset":8225},"indent":[]}},{"type":"text","value":"to the number of cores of your compilation host.","position":{"start":{"line":224,"column":50,"offset":8225},"end":{"line":224,"column":98,"offset":8273},"indent":[]}}],"position":{"start":{"line":224,"column":3,"offset":8178},"end":{"line":224,"column":98,"offset":8273},"indent":[]}}],"position":{"start":{"line":224,"column":1,"offset":8176},"end":{"line":224,"column":98,"offset":8273},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"cd && git clone https://github.com/kerberos-io/machinery\ncd machinery && mkdir build && cd build\ncmake .. && make -j8 && make check && sudo make install","position":{"start":{"line":226,"column":1,"offset":8275},"end":{"line":230,"column":4,"offset":8437},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"After the machinery is build and installed succesfully, you can enable ","position":{"start":{"line":232,"column":1,"offset":8439},"end":{"line":232,"column":72,"offset":8510},"indent":[]}},{"type":"inlineCode","value":"kerberosio","position":{"start":{"line":232,"column":72,"offset":8510},"end":{"line":232,"column":84,"offset":8522},"indent":[]}},{"type":"text","value":" to start on boot.","position":{"start":{"line":232,"column":84,"offset":8522},"end":{"line":232,"column":102,"offset":8540},"indent":[]}}],"position":{"start":{"line":232,"column":1,"offset":8439},"end":{"line":232,"column":102,"offset":8540},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo systemctl enable kerberosio\nsudo systemctl start kerberosio","position":{"start":{"line":234,"column":1,"offset":8542},"end":{"line":237,"column":4,"offset":8616},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Web","position":{"start":{"line":239,"column":5,"offset":8622},"end":{"line":239,"column":8,"offset":8625},"indent":[]}}],"position":{"start":{"line":239,"column":1,"offset":8618},"end":{"line":239,"column":8,"offset":8625},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you want to install the web, you'll need to have a webserver (e.g. Nginx) and PHP running with some extensions. You'll also need NodeJS and npm installed, to install Bower.","position":{"start":{"line":241,"column":1,"offset":8627},"end":{"line":241,"column":176,"offset":8802},"indent":[]}}],"position":{"start":{"line":241,"column":1,"offset":8627},"end":{"line":241,"column":176,"offset":8802},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"cd ~\ncurl -sL https://deb.nodesource.com/setup_10.x | sudo bash -\nsudo apt-add-repository -y ppa:ondrej/php\nsudo apt-get -y update\nsudo apt-get install -y git php7.1-cli php7.1-gd php7.1-mcrypt php7.1-curl php7.1-mbstring php7.1-dom php7.1-zip php7.1-fpm nodejs\nsudo npm -g install bower","position":{"start":{"line":243,"column":1,"offset":8804},"end":{"line":250,"column":4,"offset":9101},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next we'll need to install Nginx, and create a config file.","position":{"start":{"line":252,"column":1,"offset":9103},"end":{"line":252,"column":60,"offset":9162},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":9103},"end":{"line":252,"column":60,"offset":9162},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo apt-get -y install nginx\nsudo rm -f /etc/nginx/sites-enabled/default\nsudo nano /etc/nginx/sites-enabled/default","position":{"start":{"line":254,"column":1,"offset":9164},"end":{"line":258,"column":4,"offset":9290},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Assign Nginx to our web interface (which we will soon create).","position":{"start":{"line":260,"column":1,"offset":9292},"end":{"line":260,"column":63,"offset":9354},"indent":[]}}],"position":{"start":{"line":260,"column":1,"offset":9292},"end":{"line":260,"column":63,"offset":9354},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"server\n{\n    listen 80 default_server;\n    listen [::]:80 default_server;\n    root /var/www/web/public;\n    server_name kerberos.rpi;\n    index index.php index.html index.htm;\n    location /\n    {\n            autoindex on;\n            try_files $uri $uri/ /index.php?$query_string;\n    }\n    location ~ \\.php$\n    {\n            fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;\n            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include fastcgi_params;\n    }\n}","position":{"start":{"line":262,"column":1,"offset":9356},"end":{"line":282,"column":4,"offset":9863},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we have all the dependencies installed we can clone the web repository to our working station.","position":{"start":{"line":284,"column":1,"offset":9865},"end":{"line":284,"column":99,"offset":9963},"indent":[]}}],"position":{"start":{"line":284,"column":1,"offset":9865},"end":{"line":284,"column":99,"offset":9963},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"mkdir -p /var/www\ncd /var/www && sudo git clone https://github.com/kerberos-io/web && cd web","position":{"start":{"line":286,"column":1,"offset":9965},"end":{"line":289,"column":4,"offset":10067},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Install the PHP dependency manager, ","position":{"start":{"line":291,"column":1,"offset":10069},"end":{"line":291,"column":37,"offset":10105},"indent":[]}},{"type":"inlineCode","value":"composer","position":{"start":{"line":291,"column":37,"offset":10105},"end":{"line":291,"column":47,"offset":10115},"indent":[]}},{"type":"text","value":", the install all the needed dependencies.","position":{"start":{"line":291,"column":47,"offset":10115},"end":{"line":291,"column":89,"offset":10157},"indent":[]}}],"position":{"start":{"line":291,"column":1,"offset":10069},"end":{"line":291,"column":89,"offset":10157},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"curl -sS https://getcomposer.org/installer | sudo php\nsudo mv composer.phar /usr/bin/composer\nsudo composer install","position":{"start":{"line":293,"column":1,"offset":10159},"end":{"line":297,"column":4,"offset":10284},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Change some permissions, to make sure we can write logging and caching files.","position":{"start":{"line":299,"column":1,"offset":10286},"end":{"line":299,"column":78,"offset":10363},"indent":[]}}],"position":{"start":{"line":299,"column":1,"offset":10286},"end":{"line":299,"column":78,"offset":10363},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"sudo chmod -R 777 storage\nsudo chmod -R 777 bootstrap/cache\nsudo chmod 777 config/kerberos.php","position":{"start":{"line":301,"column":1,"offset":10365},"end":{"line":305,"column":4,"offset":10469},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We will need to install a couple of more JavaScript libraries using bower.","position":{"start":{"line":307,"column":1,"offset":10471},"end":{"line":307,"column":75,"offset":10545},"indent":[]}}],"position":{"start":{"line":307,"column":1,"offset":10471},"end":{"line":307,"column":75,"offset":10545},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"cd public\nsudo bower --allow-root install\nservice nginx restart","position":{"start":{"line":309,"column":1,"offset":10547},"end":{"line":313,"column":4,"offset":10620},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once everything is setup correctly, you should be able to browse towards the ip-address of your Raspberry Pi and see the Kerberos web interface.","position":{"start":{"line":315,"column":1,"offset":10622},"end":{"line":315,"column":145,"offset":10766},"indent":[]}}],"position":{"start":{"line":315,"column":1,"offset":10622},"end":{"line":315,"column":145,"offset":10766},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Auto removal","position":{"start":{"line":317,"column":5,"offset":10772},"end":{"line":317,"column":17,"offset":10784},"indent":[]}}],"position":{"start":{"line":317,"column":1,"offset":10768},"end":{"line":317,"column":17,"offset":10784},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default images or videos aren't removed automatically. This means that the Kerberos agent will keep writing to disk, even if there is no more space available on your SD card. When your SD card is full you'll be experiencing strange errors: a corrupt web interface, blank images or corrupt videos.","position":{"start":{"line":319,"column":1,"offset":10786},"end":{"line":319,"column":300,"offset":11085},"indent":[]}}],"position":{"start":{"line":319,"column":1,"offset":10786},"end":{"line":319,"column":300,"offset":11085},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To resolve this your should install a simple bash script and initiate a cronjob which continuously poll your filesystem, and start removing media when your disk is getting full.","position":{"start":{"line":321,"column":1,"offset":11087},"end":{"line":321,"column":178,"offset":11264},"indent":[]}}],"position":{"start":{"line":321,"column":1,"offset":11087},"end":{"line":321,"column":178,"offset":11264},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create a bash script and copy following script.","position":{"start":{"line":323,"column":1,"offset":11266},"end":{"line":323,"column":48,"offset":11313},"indent":[]}}],"position":{"start":{"line":323,"column":1,"offset":11266},"end":{"line":323,"column":48,"offset":11313},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"nano /home/[user]/autoremoval.sh","position":{"start":{"line":325,"column":1,"offset":11315},"end":{"line":327,"column":4,"offset":11359},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Copy following script (make sure the partition is correct, this is the default one for a Raspberry Pi).","position":{"start":{"line":329,"column":1,"offset":11361},"end":{"line":329,"column":104,"offset":11464},"indent":[]}}],"position":{"start":{"line":329,"column":1,"offset":11361},"end":{"line":329,"column":104,"offset":11464},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"partition=/dev/root\nimagedir=/etc/opt/kerberosio/capture/\nif [[ $(df -h | grep $partition | head -1 | awk -F' ' '{ print $5/1 }' | tr ['%'] [\"0\"]) -gt 90 ]];\nthen\n    echo \"Cleaning disk\"\n    find $imagedir -type f | sort | head -n 100 | xargs -r rm -rf;\nfi;","position":{"start":{"line":331,"column":1,"offset":11466},"end":{"line":339,"column":4,"offset":11736},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Make the script executable.","position":{"start":{"line":341,"column":1,"offset":11738},"end":{"line":341,"column":28,"offset":11765},"indent":[]}}],"position":{"start":{"line":341,"column":1,"offset":11738},"end":{"line":341,"column":28,"offset":11765},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"chmod +x /home/[user]/autoremoval.sh","position":{"start":{"line":343,"column":1,"offset":11767},"end":{"line":345,"column":4,"offset":11815},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Initiate a cronjob, and select the nano editor.","position":{"start":{"line":347,"column":1,"offset":11817},"end":{"line":347,"column":48,"offset":11864},"indent":[]}}],"position":{"start":{"line":347,"column":1,"offset":11817},"end":{"line":347,"column":48,"offset":11864},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"crontab -e","position":{"start":{"line":349,"column":1,"offset":11866},"end":{"line":351,"column":4,"offset":11888},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Append following line, to execute the autoremoval.sh script every 5min.","position":{"start":{"line":353,"column":1,"offset":11890},"end":{"line":353,"column":72,"offset":11961},"indent":[]}}],"position":{"start":{"line":353,"column":1,"offset":11890},"end":{"line":353,"column":72,"offset":11961},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"*/5 * * * * /bin/bash /home/[user]/autoremoval.sh","position":{"start":{"line":355,"column":1,"offset":11963},"end":{"line":357,"column":4,"offset":12024},"indent":[1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":360,"column":1,"offset":12027},"end":{"line":360,"column":31,"offset":12057},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":360,"column":31,"offset":12057}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/i353408/Vagrant/www/repos/documentation/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nimport ReplaceVersion from \"../components/ReplaceVersion\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1 {...{\n      \"id\": \"installation\"\n    }}>{`Installation`}</h1>\n    <p>{`Kerberos Open Source comes with different installation flavours. So you might think, why?  The reason is simple, depending on the use case one option is better than another. A short list of recommendations:`}</p>\n    <h3 {...{\n      \"id\": \"plug-and-play\"\n    }}>{`Plug and play`}</h3>\n    <ol>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/opensource/installation#kios\"\n        }}>{`KiOS`}</a>{`: You have a Raspberry Pi, and you only want to run a Kerberos agent on it.`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/opensource/installation#docker\"\n        }}>{`Docker`}</a>{`: You have a lot of IP cameras, and/or don't want to mess with dependencies.`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/opensource/installation#balena\"\n        }}>{`Balena`}</a>{`: Runnning the Kerberos Docker container on top of Balena.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"advanced\"\n    }}>{`Advanced`}</h3>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/opensource/installation-advanced#raspbian\"\n        }}>{`Raspbian`}</a>{`: You have a Raspberry Pi, but you want other services running next to the Kerberos agent.`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"/opensource/installation-advanced#generic\"\n        }}>{`Generic`}</a>{`: You want to develop/extend Kerberos with your own features, or you want to run a Kerberos agent on a not supported OS/architecure.`}</li>\n    </ol>\n    <hr></hr>\n    <h1 {...{\n      \"id\": \"advanced-1\"\n    }}>{`Advanced`}</h1>\n    <p>{`Following installation methods are only for advanced users, who need to have more control over the Kerberos Open Source environment.`}</p>\n    <h2 {...{\n      \"id\": \"raspbian\"\n    }}>{`Raspbian`}</h2>\n    <p>{`If you have already an OS (e.g. Raspbian Buster) flashed to your Raspberry Pi, then it makes sense to install the Kerberos agent on top of your existing OS. There are two ways to achieve this:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Install the Kerberos agent using Docker (more info below),`}</li>\n      <li parentName=\"ol\">{`or you can install the Kerberos agent manually (machinery + web).`}</li>\n    </ol>\n    <p>{`This section will focus on option 2, and will show you how to install the Kerberos agent manually.`}</p>\n    <h3 {...{\n      \"id\": \"update-os\"\n    }}>{`Update OS`}</h3>\n    <p>{`Let's start with updating the OS, and installing a couple of packages.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`We have tested the Raspbian installation on `}<inlineCode parentName=\"p\">{`Raspbian GNU/Linux 10 (buster)`}</inlineCode>{`. It might be that if you have a different version of Raspbian, you will need to install additional/different packages.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`update`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`ffmpeg`}</span></span></code></pre>\n    <h3 {...{\n      \"id\": \"machinery\"\n    }}>{`Machinery`}</h3>\n    <p>{`Download the debian file from the machinery repository.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\"><a parentName=\"p\" {...{\n          \"href\": \"https://github.com/kerberos-io/machinery/releases\"\n        }}>{`https://github.com/kerberos-io/machinery/releases`}</a></p>\n    </blockquote>\n    <p>{`A `}<inlineCode parentName=\"p\">{`.deb`}</inlineCode>{` file is available for every version of the Raspberry Pi. For example if you are using a Raspberry Pi 4 for version 2.8.0, execute following command. You can change the version and Raspberry Pi board to your needs.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Please make sure you pick the right board (rpi, rpi2, rpi3 or rpi4), and choose the version you want (e.g. 2.8.0). Replace below url, with your preferences.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`wget`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-machinery-kerberosio-armhf-2.8.0.deb`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dpkg`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`i`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rpi4`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`machinery`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberosio`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`armhf`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2.8`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.0.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`deb`}</span></span></code></pre>\n    <p>{`Download the x265 library (version 160) from the machinery repository, as Raspbian Buster 10 only ships with version 165. Make sure you select the right board.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\"><inlineCode parentName=\"p\">{`v2.8.0/rpi4-libx265.so.160`}</inlineCode>{` this will download the libx265 shared library for the Raspberry Pi 4.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`wget`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-libx265.so.160`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mv`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rpi4`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx265`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`so`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`160`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`usr`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`lib`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`arm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`linux`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gnueabihf`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx265`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`so`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`160`}</span></span></code></pre>\n    <p>{`Same applies for the libx264 library, download the right shared library.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\"><inlineCode parentName=\"p\">{`v2.8.0/rpi4-libx264.so.148`}</inlineCode>{` this will download the libx264 shared library for the Raspberry Pi 4.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`wget`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/machinery/releases/download/v2.8.0/rpi4-libx264.so.148`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mv`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rpi4`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx264`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`so`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`148`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`usr`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`lib`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`arm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`linux`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gnueabihf`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx264`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`so`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`148`}</span></span></code></pre>\n    <p>{`If you wish to use the Raspberry Pi Camera Module, make sure `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.raspberrypi.org/documentation/configuration/camera.md\"\n      }}>{`to enable it`}</a>{` using `}<inlineCode parentName=\"p\">{`sudo raspi-config`}</inlineCode>{`.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`raspi`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`config`}</span></span></code></pre>\n    <p>{`Enable machinery to start on boot, and start the service.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`sudo systemctl enable kerberosio`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`sudo service kerberosio start`}</span></code></pre>\n    <h3 {...{\n      \"id\": \"web\"\n    }}>{`Web`}</h3>\n    <p>{`Before you can run the web interface, you'll need to download and configure a webserver. We recommend to use Nginx, as it is a light-weight and fast webserver. The web interface is written in PHP, so we also need to download PHP and some packages. Update the packages and kernel.`}</p>\n    <p>{`Install Nginx and PHP (+extensions).`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`curl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fpm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cli`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`opcache`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mbstring`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`xml`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`zip`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mcrypt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`readline`}</span></span></code></pre>\n    <p>{`Creating a Nginx config.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`f`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`etc`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sites`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enabled`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`default`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nano`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`etc`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sites`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enabled`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberosio`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`conf`}</span></span></code></pre>\n    <p>{`Copy and paste following config file; this file tells nginx where the web will be installed and that it requires PHP.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`server`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`{`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`listen`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`80`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`default_server`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`listen`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` [::]:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`80`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`default_server`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`root`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/web/public;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`server_name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberos`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rpi`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`html`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`htm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`location`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`autoindex`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`on`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`try_files`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$uri`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$uri`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/ /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`?`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$query_string`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`location`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` ~ \\\\.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php$`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            fastcgi_pass `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`unix:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`run`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fpm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sock`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fastcgi_param`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`SCRIPT_FILENAME`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$document_root$fastcgi_script_name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`include`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fastcgi_params`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Restart nginx`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`service`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`restart`}</span></span></code></pre>\n    <p>{`Now we have installed all the dependencies, we can download the web interface source code.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mkdir`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`p`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/web && sudo chown www-data:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`data`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`web`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/web`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`u`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`data`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`wget`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/web/releases/download/v2.8.0/web.tar.gz`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`u`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`data`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`tar`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`xvf`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`web`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`tar`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gz`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` .`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chown`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`data`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`R`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`storage`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bootstrap`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cache`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`config`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberos`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chmod`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`R`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`775`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`storage`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bootstrap`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cache`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chmod`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0600`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`config`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberos`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span></span></code></pre>\n    <p>{`Once everything is setup correctly, you should be able to browse towards the ip-address of your Raspberry Pi and see the Kerberos web interface.`}</p>\n    <h3 {...{\n      \"id\": \"auto-removal\"\n    }}>{`Auto removal`}</h3>\n    <p>{`By default images or videos aren't removed automatically. This means that the Kerberos agent will keep writing to disk, even if there is no more space available on your SD card. When your SD card is full you'll be experiencing strange errors: a corrupt web interface, blank images or corrupt videos.`}</p>\n    <p>{`To resolve this your should install a simple bash script and initiate a cronjob which continuously poll your filesystem, and start removing media when your disk is getting full.`}</p>\n    <p>{`Create a bash script and copy following script.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`nano /home/pi/autoremoval.sh`}</span></span></code></pre>\n    <p>{`Copy following script (make sure the partition is correct, this is the default one for a Raspberry Pi).`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`partition=/dev/root`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`imagedir=/etc/opt/kerberosio/capture/`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`if`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` [[ `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`$(df -h `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` grep `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$partition`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` head -1 `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` awk -F' ' '{ print $5/1 }' `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` tr ['%'] [\"0\"])`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -gt 90 ]];`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`then`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`echo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"Cleaning disk\"`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    find `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$imagedir`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -type f | sort | head -n 100 | xargs -r rm -rf;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`fi`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span></code></pre>\n    <p>{`Make the script executable.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`chmod +x /home/pi/autoremoval.sh`}</span></span></code></pre>\n    <p>{`Initiate a cronjob, and select the nano editor.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`crontab -e`}</span></span></code></pre>\n    <p>{`Append following line, to execute the autoremoval.sh script every 5min.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`*/5 * * * * /bin/bash /home/pi/autoremoval.sh`}</span></span></code></pre>\n    <h2 {...{\n      \"id\": \"generic\"\n    }}>{`Generic`}</h2>\n    <p>{`If you want to install the Kerberos agent from source on your working station or server, either for development or running the software, this is the preferred installation procedure. We are assuming that you use a Linux OS, when using Mac OSX the installation is slightly different.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`This was tested on a Ubuntu VM (18.04.3 (LTS) x64).`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"machinery-1\"\n    }}>{`Machinery`}</h3>\n    <p>{`Update the packages and kernel, and install some development tools.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`update`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`git`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cmake`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`subversion`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dh`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`autoreconf`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libcurl4`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`openssl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dev`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`yasm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx264`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dev`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`pkg`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`config`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libssl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dev`}</span></span></code></pre>\n    <p>{`Install the FFmpeg library with x264 support.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`It's recommended to install FFmpeg 3.1. Later versions might give issues at compilation or run time.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`git`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`clone`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/FFmpeg/FFmpeg ffmpeg`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`ffmpeg`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`git`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`checkout`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`remotes`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`origin`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`release`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`3.1`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`./`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`configure`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` --`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gpl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` --`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`libx264`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` --`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`shared`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` --`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`prefix`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`=/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`usr`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`make`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`make`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span></span></code></pre>\n    <p>{`Go to your home directory, or any place your prefer and pull the machinery from Github. Afterwards create a build directory and start the compilation.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`You can change the `}<inlineCode parentName=\"p\">{`-j`}</inlineCode>{` attribute of `}<inlineCode parentName=\"p\">{`make -j8`}</inlineCode>{`to the number of cores of your compilation host.`}</p>\n    </blockquote>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`git`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`clone`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/machinery`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`machinery`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mkdir`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`build`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`build`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cmake`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` .. && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`make`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`j8`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`make`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`check`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`make`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span></span></code></pre>\n    <p>{`After the machinery is build and installed succesfully, you can enable `}<inlineCode parentName=\"p\">{`kerberosio`}</inlineCode>{` to start on boot.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`systemctl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberosio`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`systemctl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`start`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberosio`}</span></span></code></pre>\n    <h3 {...{\n      \"id\": \"web-1\"\n    }}>{`Web`}</h3>\n    <p>{`If you want to install the web, you'll need to have a webserver (e.g. Nginx) and PHP running with some extensions. You'll also need NodeJS and npm installed, to install Bower.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` ~`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`curl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sL`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//deb.nodesource.com/setup_10.x | sudo bash -`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`add`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`repository`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` ppa:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`ondrej`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`update`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`git`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cli`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`gd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mcrypt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`curl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mbstring`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`dom`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`zip`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fpm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nodejs`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`npm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`g`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bower`}</span></span></code></pre>\n    <p>{`Next we'll need to install Nginx, and create a config file.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`apt`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`get`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`y`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`f`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`etc`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sites`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enabled`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`default`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nano`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`etc`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sites`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`enabled`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`default`}</span></span></code></pre>\n    <p>{`Assign Nginx to our web interface (which we will soon create).`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`server`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`{`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`listen`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`80`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`default_server`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`listen`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` [::]:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`80`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`default_server`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`root`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/web/public;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`server_name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberos`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`rpi`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`html`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`htm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`location`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`autoindex`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`on`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`try_files`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$uri`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$uri`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/ /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`index`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`?`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$query_string`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`location`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` ~ \\\\.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php$`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            fastcgi_pass `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`unix:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`run`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php7`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fpm`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sock`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fastcgi_param`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`SCRIPT_FILENAME`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$document_root$fastcgi_script_name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`include`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fastcgi_params`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Now we have all the dependencies installed we can clone the web repository to our working station.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mkdir`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`p`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`www`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` && sudo git clone https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//github.com/kerberos-io/web && cd web`}</span></span></code></pre>\n    <p>{`Install the PHP dependency manager, `}<inlineCode parentName=\"p\">{`composer`}</inlineCode>{`, the install all the needed dependencies.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`curl`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sS`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` https:`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`//getcomposer.org/installer | sudo php`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`mv`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`composer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`phar`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` /`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`usr`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bin`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`composer`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`composer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span></span></code></pre>\n    <p>{`Change some permissions, to make sure we can write logging and caching files.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chmod`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`R`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`777`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`storage`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chmod`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`R`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`777`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bootstrap`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cache`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`chmod`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`777`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`config`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`/`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`kerberos`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`php`}</span></span></code></pre>\n    <p>{`We will need to install a couple of more JavaScript libraries using bower.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"ts\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`cd`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`public`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`sudo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`bower`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` --`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`allow`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`-`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`root`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`install`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`service`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`nginx`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`restart`}</span></span></code></pre>\n    <p>{`Once everything is setup correctly, you should be able to browse towards the ip-address of your Raspberry Pi and see the Kerberos web interface.`}</p>\n    <h3 {...{\n      \"id\": \"auto-removal-1\"\n    }}>{`Auto removal`}</h3>\n    <p>{`By default images or videos aren't removed automatically. This means that the Kerberos agent will keep writing to disk, even if there is no more space available on your SD card. When your SD card is full you'll be experiencing strange errors: a corrupt web interface, blank images or corrupt videos.`}</p>\n    <p>{`To resolve this your should install a simple bash script and initiate a cronjob which continuously poll your filesystem, and start removing media when your disk is getting full.`}</p>\n    <p>{`Create a bash script and copy following script.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`nano /home/[user]/autoremoval.sh`}</span></span></code></pre>\n    <p>{`Copy following script (make sure the partition is correct, this is the default one for a Raspberry Pi).`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`partition=/dev/root`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`imagedir=/etc/opt/kerberosio/capture/`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`if`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` [[ `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`$(df -h `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` grep `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$partition`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` head -1 `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` awk -F' ' '{ print $5/1 }' `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`|`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{` tr ['%'] [\"0\"])`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -gt 90 ]];`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`then`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`echo`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"Cleaning disk\"`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    find `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`$imagedir`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` -type f | sort | head -n 100 | xargs -r rm -rf;`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`fi`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`;`}</span></span></code></pre>\n    <p>{`Make the script executable.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`chmod +x /home/[user]/autoremoval.sh`}</span></span></code></pre>\n    <p>{`Initiate a cronjob, and select the nano editor.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`crontab -e`}</span></span></code></pre>\n    <p>{`Append following line, to execute the autoremoval.sh script every 5min.`}</p>\n    <pre {...{\n      \"className\": \"default-dark vscode-highlight\",\n      \"data-language\": \"bash\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`*/5 * * * * /bin/bash /home/[user]/autoremoval.sh`}</span></span></code></pre>\n\n    <style {...{\n      \"className\": \"vscode-highlight-styles\"\n    }}>{`\n  :root {\n  --vscode-highlight-padding-v: 1rem;\n  --vscode-highlight-padding-h: 1.5rem;\n  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);\n  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);\n  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);\n  --vscode-highlight-border-radius: 8px;\n\n  --vscode-highlight-line-highlighted-background-color: transparent;\n  --vscode-highlight-line-highlighted-border-width: 4px;\n  --vscode-highlight-line-highlighted-border-color: transparent;\n}\n\n.vscode-highlight {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-top: 1rem;\n  padding-top: var(--vscode-highlight-padding-top);\n  padding-bottom: 1rem;\n  padding-bottom: var(--vscode-highlight-padding-bottom);\n  border-radius: 8px;\n  border-radius: var(--vscode-highlight-border-radius);\n  font-feature-settings: normal;\n}\n\n.vscode-highlight-code {\n  display: inline-block;\n  min-width: 100%;\n}\n\n.vscode-highlight-line {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 100%;\n  padding-left: 1.5rem;\n  padding-left: var(--vscode-highlight-padding-left);\n  padding-right: 1.5rem;\n  padding-right: var(--vscode-highlight-padding-right);\n}\n\n.vscode-highlight-line-highlighted {\n  background-color: var(--vscode-highlight-line-highlighted-background-color);\n  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);\n}\n\n  .default-dark {\nbackground-color: #1E1E1E;\ncolor: #D4D4D4;\n}\n\n.default-dark .mtk1 { color: #D4D4D4; }\n.default-dark .mtk2 { color: #1E1E1E; }\n.default-dark .mtk3 { color: #6A9955; }\n.default-dark .mtk4 { color: #569CD6; }\n.default-dark .mtk5 { color: #D16969; }\n.default-dark .mtk6 { color: #D7BA7D; }\n.default-dark .mtk7 { color: #B5CEA8; }\n.default-dark .mtk8 { color: #CE9178; }\n.default-dark .mtk9 { color: #646695; }\n.default-dark .mtk10 { color: #4EC9B0; }\n.default-dark .mtk11 { color: #DCDCAA; }\n.default-dark .mtk12 { color: #9CDCFE; }\n.default-dark .mtk13 { color: #000080; }\n.default-dark .mtk14 { color: #F44747; }\n.default-dark .mtk15 { color: #C586C0; }\n.default-dark .mtk16 { color: #6796E6; }\n.default-dark .mtk17 { color: #808080; }\n.default-dark .mtki { font-style: italic; }\n.default-dark .mtkb { font-weight: bold; }\n.default-dark .mtku { text-decoration: underline; text-underline-position: under; }\n`}</style>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}