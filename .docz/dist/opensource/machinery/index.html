<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e4805801808dd4e99231.css">@import url(https://fonts.googleapis.com/css?family=Inconsolata&display=swap);@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap);ul{margin-left:40px!important}p code{color:#943733;background:#f9f9f9;padding:8px 5px;border-radius:8px}h2{border-top:1px solid #c3c3c3;padding-top:35px!important}h2:before{content:"# ";color:#943733}h3:before{content:"";display:inline-block;width:8px;height:8px;border-radius:4px;background-color:#943733;margin-right:10px;margin-bottom:3px}.embed-container{position:relative;padding-bottom:62.5%;height:0;overflow:hidden;max-width:100%}.embed-container embed,.embed-container iframe,.embed-container object{position:absolute;top:0;left:0;width:100%;height:100%}p>img{margin:25px 0!important}@media screen and (min-width:700px){p>img{max-width:600px!important}}</style><meta name="generator" content="Gatsby 2.20.8"/><title data-rh="true">Machinery | Kerberos.io</title><meta data-rh="true" name="description" content="My awesome app using docz"/><meta data-rh="true" property="og:title" content="Machinery"/><meta data-rh="true" property="og:description" content="My awesome app using docz"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:card" content="summary"/><meta data-rh="true" name="twitter:title" content="Machinery"/><meta data-rh="true" name="twitter:description" content="My awesome app using docz"/><meta data-rh="true" charSet="utf-8"/><link data-rh="true" rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAb5JREFUeNpiYKAQMKMLzPHzDmCVkD4eqaXuwSop7XD30cON+AxgRBfIdHE+f/HbTwMkIcVjx448wGUAEzJna7C/wIc//8CaOZgYGeTZWBl0Odn7geIKRLlgfnK8w4OnL/arc7Ax8DMzoaud4L12YyFeF7zi5zfQFhZA0fzx7z+Gh79+g5gFQJck4DXgPwND1l8mVJtPff3OsOTtJ5gh84GG3F8e4NtvZWVjgOIFFxc3B1tttf1yXz4ziH34gDfqQK6a8uo9gxALcyHcum/fvsX//P2H4Ss7O8G4B3kxVJCX4d2fvwdYQAJA5wgAqYCP374z8AvxM4C88RPouDesTAzSzP8ZWOGphhHm5g8aXCyFx7Zuv8AClXIAYoH3X74xyAENeMvHx/Di8zeGA2+/MPz/94dBgpfzQ5QIRyBU7QOPWavg6QJmADhA3nz6zPD3vwTDW15eBg6gYYKCggxfv35lePHl5waPdZsO4EtIIBMTv3z5Evjz778DIC8wiQozqDH8ZRDk5mIQEhK6SHRSBoHOorx+ULyz/fnDwP3jB8M/JibDjBlzLhBtANQQUPJV+Pmf8VVd/8RrDLQCAAEGAMham/r8eLajAAAAAElFTkSuQmCC"/><link as="script" rel="preload" href="/framework-5931f587964c62d7d0a3.js"/><link as="script" rel="preload" href="/component---src-open-source-machinery-mdx-5e469206697413cf99e2.js"/><link as="script" rel="preload" href="/7146176d69ad7a79f580a95e853f76609bf46d70-ebb8bf157b9ff0a75730.js"/><link as="script" rel="preload" href="/fa7ae31b-dc6f0a12596390e963fc.js"/><link as="script" rel="preload" href="/bac1b955-b3ed184e65a51596b9b1.js"/><link as="script" rel="preload" href="/app-763ba89563852604ac82.js"/><link as="script" rel="preload" href="/styles-7ad014c60854ef6c760f.js"/><link as="script" rel="preload" href="/webpack-runtime-52817340e06fdd073233.js"/><link as="fetch" rel="preload" href="/page-data/opensource/machinery/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ouyflx">.css-1ouyflx{font-family:'Source Sans Pro',sans-serif;font-size:20px;font-weight:400;line-height:1.5;color:var(--theme-ui-colors-text,#2D3747);background-color:var(--theme-ui-colors-background,#FFFFFF);}</style><div class="css-1ouyflx"><style data-emotion-css="jrjj6h">.css-jrjj6h > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="1ubpee3">.css-1ubpee3{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1ubpee3 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="hbri28">.css-hbri28{box-sizing:border-box;min-width:0;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hbri28 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div data-testid="layout" class="css-hbri28"><style data-emotion-css="1xva7m0">body{margin:0;padding:0;}.icon-link{display:none;}.with-overlay{overflow:hidden;}</style><style data-emotion-css="zf0iqh">.css-zf0iqh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="1tjxv7i">.css-1tjxv7i{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="238csb">.css-238csb{box-sizing:border-box;min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-238csb"><div><style data-emotion-css="15183e4">.css-15183e4{background-color:var(--theme-ui-colors-header-bg,#943733);color:#fff;position:relative;z-index:1;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);padding:15px 0;}</style><div data-testid="header" class="css-15183e4"><style data-emotion-css="1mo3h6b">.css-1mo3h6b{display:none;position:absolute;top:38px;left:30px;z-index:10000;}@media screen and (max-width:57.5em){.css-1mo3h6b{top:28px;display:block;}}</style><style data-emotion-css="1y768ud">.css-1y768ud{box-sizing:border-box;min-width:0;display:none;position:absolute;top:38px;left:30px;z-index:10000;}@media screen and (max-width:57.5em){.css-1y768ud{top:28px;display:block;}}</style><div class="css-1y768ud"><style data-emotion-css="4019lz">.css-4019lz{padding:0;outline:none;background:transparent;border:none;color:var(--theme-ui-colors-header-text,#2D3747);opacity:0.5;cursor:pointer;}.css-4019lz:hover{cursor:pointer;}</style><button class="css-4019lz"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="1558bmn">.css-1558bmn{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:32px;padding-right:32px;position:relative;height:80px;}@media screen and (max-width:57.5em){.css-1558bmn{height:51px;}}</style><div class="css-1558bmn"><style data-emotion-css="1np5vkz">.css-1np5vkz{-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}@media screen and (max-width:57.5em){.css-1np5vkz{left:45px;top:5px;position:relative;}}</style><style data-emotion-css="t00pv1">.css-t00pv1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}@media screen and (max-width:57.5em){.css-t00pv1{left:45px;top:5px;position:relative;}}</style><style data-emotion-css="1o52piq">.css-1o52piq{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}@media screen and (max-width:57.5em){.css-1o52piq{left:45px;top:5px;position:relative;}}</style><div data-testid="logo" class="css-1o52piq"><div style="display:table;background:#fff;margin:-10px 20px 0 0;border-radius:50%;padding:10px;float:left"><img style="display:block;position:relative;background-position:center;background-repeat:no-repeat;background-size:100%;width:35px;height:35px" src="data:image/png;base64,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"/></div><style data-emotion-css="iolrrf">.css-iolrrf{font-weight:600;color:#fff;-webkit-text-decoration:none;text-decoration:none;}.css-iolrrf:hover{color:#fff;}</style><a class="css-iolrrf" href="/">Kerberos.io</a></div><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style data-emotion-css="80zs6q">.css-80zs6q{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-80zs6q"><style data-emotion-css="12z0wuy">.css-12z0wuy{margin-right:8px;}</style><style data-emotion-css="q6cf68">.css-q6cf68{box-sizing:border-box;min-width:0;margin-right:8px;}</style><div class="css-q6cf68"><style data-emotion-css="1yy20wc">.css-1yy20wc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:12px;border:none;border-radius:9999px;background-color:#fff;color:#943733;font-size:12px;font-weight:600;cursor:pointer;}@media screen and (max-width:39.375em){.css-1yy20wc{display:none;}}</style><a href="https://github.com/kerberos-io" target="_blank" rel="noopener noreferrer" class="css-1yy20wc"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></div><div class="css-q6cf68"><a href="https://kerberosio.zendesk.com" target="_blank" rel="noopener noreferrer" class="css-1yy20wc"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12" y2="17"></line></svg></a></div><button class="css-1yy20wc"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></div></div><div><div><style data-emotion-css="17x07qt">.css-17x07qt{background:#fff;border-bottom:1px solid #e5e5e5;box-shadow:0 -5px 0 rgba(0,0,0,.03);float:left;min-height:2.35em;position:relative;z-index:999;width:100%;}</style><nav class="css-17x07qt"><div class="box"><style data-emotion-css="14q1lag">.css-14q1lag{float:right;background:0 0;border:0;box-shadow:none;display:block;margin:0px !important;}</style><ul class="css-14q1lag"><style data-emotion-css="qbro9f">.css-qbro9f{padding:25px 0;width:auto;float:left;list-style:none;}</style><li class="css-qbro9f"><style data-emotion-css="1uwldux">.css-1uwldux{border-bottom:0;font-size:12px;margin:0 25px 0 0;width:auto;font-family:Source Sans Pro,sans-serif;color:#943633;display:block;font-weight:600;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;text-transform:uppercase;-webkit-text-decoration:none;text-decoration:none;}</style><a href="http://kerberos.io" title="Welcome" class="css-1uwldux">Welcome</a></li><li class="css-qbro9f"><a href="http://cloud.kerberos.io" title="Cloud" class="css-1uwldux">Cloud</a></li><style data-emotion-css="vdi2x3">.css-vdi2x3{padding:25px 0;width:auto;float:left;list-style:none;}@media screen and (max-width:39.375em){.css-vdi2x3{display:none;}}</style><li class="css-vdi2x3"><a target="_blank" href="https://github.com/kerberos-io" title="Github" class="css-1uwldux">Github</a></li><li class="css-vdi2x3"><a target="_blank" href="https://kerberosio.zendesk.com/" title="Zendesk" class="css-1uwldux">Help</a></li></ul></div></nav></div></div></div><style data-emotion-css="w2cmj1">.css-w2cmj1{padding-top:0;padding-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;display:grid;grid-template-columns:250px 1fr;min-height:100vh;}@media screen and (max-width:57.5em){.css-w2cmj1{display:block;}}</style><div class="css-w2cmj1"><style data-emotion-css="1tn7q1x">.css-1tn7q1x{z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><style data-emotion-css="h4snl3">.css-h4snl3{box-sizing:border-box;min-width:0;z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><div class="css-h4snl3"></div><style data-emotion-css="1xgktqn">.css-1xgktqn{padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#f9f9f9);}@media screen and (max-width:57.5em){.css-1xgktqn{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><style data-emotion-css="g83nuu">.css-g83nuu{box-sizing:border-box;min-width:0;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#f9f9f9);}@media screen and (max-width:57.5em){.css-g83nuu{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><div data-testid="sidebar" class="css-g83nuu"><style data-emotion-css="lcm9hh">.css-lcm9hh{margin-bottom:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div data-testid="nav-search" class="css-lcm9hh"><style data-emotion-css="1mo6uhh">.css-1mo6uhh{color:var(--theme-ui-colors-border,#CED4DE);margin-right:8px;}</style><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1mo6uhh"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><style data-emotion-css="1bbueiu">.css-1bbueiu{outline:none;background:none;border:none;color:var(--theme-ui-colors-text,#2D3747);font-size:14px;}</style><input placeholder="Type to search..." value="" class="css-1bbueiu"/></div><style data-emotion-css="1e7fp5b">.css-1e7fp5b{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);-webkit-text-decoration:none;text-decoration:none;font-size:16px;}.css-1e7fp5b.active{color:var(--theme-ui-colors-sidebar-navLinkActive,#943733);}</style><a class="css-1e7fp5b" href="/">Introduction</a><a class="css-1e7fp5b" href="/how">How it works</a><a class="css-1e7fp5b" href="/architectures">Architectures</a><style data-emotion-css="1ebprri">.css-1ebprri{margin-top:16px;margin-bottom:16px;}</style><div data-testid="nav-group" class="css-1ebprri"><style data-emotion-css="1c8kbwa">.css-1c8kbwa{margin-bottom:4px;font-size:16px;font-weight:500;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1c8kbwa">Open Source<style data-emotion-css="1scp5x8">.css-1scp5x8{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1scp5x8"><polyline points="6 9 12 15 18 9"></polyline></svg></div><style data-emotion-css="1isemmb">.css-1isemmb{margin-left:8px;}</style><div data-testid="nav-group-links" class="css-1isemmb"><a class="css-1e7fp5b" href="/opensource/introduction">First things first</a><a class="css-1e7fp5b" href="/opensource/get-started">Get Started</a><a class="css-1e7fp5b" href="/opensource/installation">Installation</a><a class="css-1e7fp5b" href="/opensource/installation-advanced">Installation - advanced</a><a class="css-1e7fp5b" href="/opensource/releases">Releases</a><a class="css-1e7fp5b" href="/opensource/license">License</a><a class="css-1e7fp5b" href="/opensource/upgrade">Upgrade</a><a class="css-1e7fp5b" href="/opensource/contribute">Contribute</a><a aria-current="page" class="css-1e7fp5b active" href="/opensource/machinery">Machinery</a><style data-emotion-css="3n77e">.css-3n77e{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-tocLink,#67788a);-webkit-text-decoration:none;text-decoration:none;font-size:14px;margin-left:16px;position:relative;}.css-3n77e.active{color:var(--theme-ui-colors-sidebar-tocLinkActive,#1D2330);}.css-3n77e.active::before{content:"";position:absolute;display:block;top:2px;left:-8px;height:1rem;background-color:var(--theme-ui-colors-primary,#943733);-webkit-transition:width 200ms ease 0s;transition:width 200ms ease 0s;width:2px;border-radius:1px;}</style><a class=" css-3n77e" href="/opensource/machinery#project-structure">Project structure</a><a class=" css-3n77e" href="/opensource/machinery#capture">Capture</a><a class=" css-3n77e" href="/opensource/machinery#condition">Condition</a><a class=" css-3n77e" href="/opensource/machinery#algorithm">Algorithm</a><a class=" css-3n77e" href="/opensource/machinery#expositor">Expositor</a><a class=" css-3n77e" href="/opensource/machinery#heuristic">Heuristic</a><a class=" css-3n77e" href="/opensource/machinery#output">Output</a><a class=" css-3n77e" href="/opensource/machinery#streaming">Streaming</a><a class="css-1e7fp5b" href="/opensource/web">Web</a></div></div><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">Enterprise<style data-emotion-css="cu2sly">.css-cu2sly{margin-left:4px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:-webkit-transform .3s ease-in-out;-webkit-transition:transform .3s ease-in-out;transition:transform .3s ease-in-out;}</style><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"></div></div><div data-testid="nav-group" class="css-1ebprri"><div class="css-1c8kbwa">Storage<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-cu2sly"><polyline points="6 9 12 15 18 9"></polyline></svg></div><div data-testid="nav-group-links" class="css-1isemmb"></div></div><a class="css-1e7fp5b" href="/cloud">Cloud</a></div><style data-emotion-css="1w3d2mg">.css-1w3d2mg{background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1w3d2mg{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="kjtkh5">.css-kjtkh5{width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-kjtkh5{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="1307vk3">.css-1307vk3{box-sizing:border-box;min-width:0;width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1307vk3{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><div data-testid="main-container" class="css-1307vk3"><style data-emotion-css="1vci3bl">.css-1vci3bl{padding:0;margin:0;margin-bottom:16px;font-size:48px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h1 id="machinery" class="css-1vci3bl">Machinery</h1><style data-emotion-css="1ftn47p">.css-1ftn47p{padding:0;margin:0;margin-bottom:16px;}</style><p class="css-1ftn47p">The machinery is the processing engine of Kerberos Open Source. It&#x27;s an image processing framework, written in C++, who benefits from other third party libraries (OpenCV, etc). It takes images from the type of camera (USB-, IP- or RPi-camera) you&#x27;ve configured in the configuration files and executes one ore more algorithms and post-processes (e.g. save a snapshot). The configuration files allow you to define the type of camera, post-processes, conditions and much more; it&#x27;s highly configurable. It&#x27;s important to note that the machinery, out-of-the-box, can handle only one camera at a time.</p><style data-emotion-css="r53osx">.css-r53osx{padding:0;margin:0;margin-bottom:16px;font-size:32px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h2 id="project-structure" class="css-r53osx"><style data-emotion-css="1r0pe6c">.css-1r0pe6c{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1r0pe6c:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#project-structure" class="css-1r0pe6c">Project structure</a></h2><p class="css-1ftn47p">The machinery is an image processing framework which is devided into four steps:</p><style data-emotion-css="cvh4i0">.css-cvh4i0{padding:0;margin:0;margin-bottom:16px;list-style-position:outside;list-style-image:none;margin-left:16px;}</style><ul class="css-cvh4i0"><style data-emotion-css="q43a5f">.css-q43a5f{margin-bottom:4px;padding-left:0;}.css-q43a5f ol{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f ul{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f p{margin-bottom:8px;}</style><li class="css-q43a5f">condition</li><li class="css-q43a5f">algorithm</li><li class="css-q43a5f">expositor</li><li class="css-q43a5f">heuristic</li></ul><p class="css-1ftn47p">The steps belong to a four passway; illustrated on the image below. In each cycle a sequence of images is processed. Each step will process the sequence, and will return some result to the next step. For example: an algorithm will process the images and returns an array to the Expositor, which contains boolean values. The steps are loosly coupled, so they have simple conventions, just like the example before.</p><p class="css-1ftn47p">Thanks to the loosly coupling, each step can be developed indepently. So algorithms, expositors, heuristics and conditions can be switched on the fly. This makes it easier for other developers who want to contribute to the machinery. They can create a new algorithm without knowing how a specific expositor or heuristic works. They just need to be aware of the convention an algorithm should meet.</p><p class="css-1ftn47p"><style data-emotion-css="1a2e1jm">.css-1a2e1jm{padding:0;margin:0;margin-bottom:16px;max-width:100%;}</style><img alt="machinery project structure" src="/static/project_structure-435e8f183348650cfa7c2c8642a154c3.png" class="css-1a2e1jm"/></p><p class="css-1ftn47p">These different steps can be configured by editing a couple of configurationn files located at <style data-emotion-css="ueqitl">.css-ueqitl{font-family:Inconsolata;}</style><code class="css-ueqitl">config/</code>. The main configuration file <code class="css-ueqitl">config/config.xml</code> looks like this:</p><style data-emotion-css="1h0sj8d">.css-1h0sj8d{padding:16px;margin:0;margin-bottom:32px;font-size:85%;margin-top:32px;text-align:left;font-family:Inconsolata;border-radius:4px;}.css-1h0sj8d dark{[object Object];}.css-1h0sj8d light{[object Object];}</style><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><style data-emotion-css="155ufdz">.css-155ufdz{font-size:85%;font-family:Inconsolata;}</style><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">name</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">frontdoor</span><span class="mtk17">&lt;/</span><span class="mtk4">name</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">logging</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">logging</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">timezone</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;timezone&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Europe-Brussels</span><span class="mtk17">&lt;/</span><span class="mtk4">timezone</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">capture</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;capture.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">RaspiCamera</span><span class="mtk17">&lt;/</span><span class="mtk4">capture</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">stream</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;stream.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Mjpg</span><span class="mtk17">&lt;/</span><span class="mtk4">stream</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">condition</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;condition.xml&quot;</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;multiple&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Enabled</span><span class="mtk17">&lt;/</span><span class="mtk4">condition</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">algorithm</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;algorithm.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">DifferentialCollins</span><span class="mtk17">&lt;/</span><span class="mtk4">algorithm</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">expositor</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;expositor.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Hull</span><span class="mtk17">&lt;/</span><span class="mtk4">expositor</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">heuristic</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;heuristic.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Sequence</span><span class="mtk17">&lt;/</span><span class="mtk4">heuristic</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">io</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;io.xml&quot;</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;multiple&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Video</span><span class="mtk17">&lt;/</span><span class="mtk4">io</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">cloud</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;cloud.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">S3</span><span class="mtk17">&lt;/</span><span class="mtk4">cloud</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><h2 id="capture" class="css-r53osx"><a href="#capture" class="css-1r0pe6c">Capture</a></h2><p class="css-1ftn47p">You can choose which capture device you will be using, you can use your old USB webcam, the popular Raspberry Pi camera or a state-of-the-art IP camera. The capture device will take pictures and deliver them to the algorithm if the conditions (the first step of the four passway) are valid.</p><p class="css-1ftn47p">You can change the capture device by changing the <code class="css-ueqitl">config/config.xml</code> file, and choose one of the following:</p><ul class="css-cvh4i0"><li class="css-q43a5f">USBCamera</li><li class="css-q43a5f">RaspiCamera</li><li class="css-q43a5f">IPCamera</li></ul><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">capture</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;capture.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">RaspiCamera</span><span class="mtk17">&lt;/</span><span class="mtk4">capture</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><style data-emotion-css="1yfs3hu">.css-1yfs3hu{padding:0;margin:0;margin-bottom:16px;font-size:24px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h3 id="usb-camera" class="css-1yfs3hu"><a href="#usb-camera" class="css-1r0pe6c">USB camera</a></h3><p class="css-1ftn47p">The machinery supports a whole range of USB cameras. You will find a complete list here. Make sure you have updated the web interface, to make the machinery aware you will be using an USB camera.</p><style data-emotion-css="14t8hvg">.css-14t8hvg{padding:0;margin:0;margin-bottom:16px;font-size:20px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h4 id="parameters" class="css-14t8hvg"><a href="#parameters" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the USB camera can be found in the <code class="css-ueqitl">config/capture.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">USBCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameWidth</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1280</span><span class="mtk17">&lt;/</span><span class="mtk4">frameWidth</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameHeight</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">720</span><span class="mtk17">&lt;/</span><span class="mtk4">frameHeight</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">deviceNumber</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">deviceNumber</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">delay</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">delay</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">angle</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">angle</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">USBCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span></code></pre><style data-emotion-css="1hd0wv1">.css-1hd0wv1{padding:0;margin:0;margin-bottom:16px;font-size:16px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h5 id="framewidth-and--height" class="css-1hd0wv1"><a href="#framewidth-and--height" class="css-1r0pe6c">Framewidth and -height</a></h5><p class="css-1ftn47p">You can set the resolution of the capture device, make sure the resolution you&#x27;ve defined is valid with your camera. Please check the specs of the USB camera you&#x27;re using.</p><h5 id="device-number" class="css-1hd0wv1"><a href="#device-number" class="css-1r0pe6c">Device number</a></h5><p class="css-1ftn47p">If more than one device is connected, you can specify the index of the USB-camera. The index is an integer (1-5).</p><h5 id="delay" class="css-1hd0wv1"><a href="#delay" class="css-1r0pe6c">Delay</a></h5><p class="css-1ftn47p">You can provide a delay/interval (milliseconds) between two captures.</p><h5 id="angle" class="css-1hd0wv1"><a href="#angle" class="css-1r0pe6c">Angle</a></h5><p class="css-1ftn47p">By defining an angle (degrees), you can rotate the images taken by the capture device. For example if you would mount the camera upside down, than you could enter the value 180 as the angle; this will flip the images.</p><h3 id="raspberry-pi-camera-module" class="css-1yfs3hu"><a href="#raspberry-pi-camera-module" class="css-1r0pe6c">Raspberry Pi Camera Module</a></h3><p class="css-1ftn47p">You can use the Raspberry Pi Camera Module with the machinery. You just need to attach the camera module and you&#x27;re ready to go. The Raspberry Pi Camera Module is enabled by default in the web.</p><h4 id="parameters-1" class="css-14t8hvg"><a href="#parameters-1" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Raspberry Pi Camera Module can be found in the config/capture.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">RaspiCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameWidth</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">640</span><span class="mtk17">&lt;/</span><span class="mtk4">frameWidth</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameHeight</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">480</span><span class="mtk17">&lt;/</span><span class="mtk4">frameHeight</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">delay</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1400</span><span class="mtk17">&lt;/</span><span class="mtk4">delay</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">angle</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">angle</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">framerate</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">30</span><span class="mtk17">&lt;/</span><span class="mtk4">framerate</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">sharpness</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">sharpness</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">saturation</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">saturation</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">contrast</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">contrast</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">brightness</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">50</span><span class="mtk17">&lt;/</span><span class="mtk4">brightness</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">RaspiCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="framewidth-and--height-1" class="css-1hd0wv1"><a href="#framewidth-and--height-1" class="css-1r0pe6c">Framewidth and -height</a></h5><p class="css-1ftn47p">You can set the resolution of the camera module, make sure the resolution you&#x27;ve defined is valid.</p><h5 id="delay-1" class="css-1hd0wv1"><a href="#delay-1" class="css-1r0pe6c">Delay</a></h5><p class="css-1ftn47p">You can provide a delay/interval (milliseconds) between two captures.</p><h5 id="angle-1" class="css-1hd0wv1"><a href="#angle-1" class="css-1r0pe6c">Angle</a></h5><p class="css-1ftn47p">By defining an angle (degrees), you can rotate the images taken by the capture device. For example if you would mount the camera upside down, than you could enter the value 180 as the angle; this will flip the images.</p><h5 id="framerate" class="css-1hd0wv1"><a href="#framerate" class="css-1r0pe6c">Framerate</a></h5><p class="css-1ftn47p">The number of frames captures per second. Please note that this parameter will also be used if you&#x27;re recording video. E.g. if you set this parameter to 20, you&#x27;re recorded videos will also be 20 FPS.</p><h5 id="sharpness-saturation-contrast-brightness" class="css-1hd0wv1"><a href="#sharpness-saturation-contrast-brightness" class="css-1r0pe6c">Sharpness, saturation, contrast, brightness</a></h5><p class="css-1ftn47p">Camera properties which you can specify to tune the settings to your needs.</p><h3 id="ip-camera" class="css-1yfs3hu"><a href="#ip-camera" class="css-1r0pe6c">IP camera</a></h3><p class="css-1ftn47p">The machinery can be used with any IP camera, that provides a RTSP (or MJPEG) stream. Make sure that you know the correct URL of your IP camera, you can <style data-emotion-css="qtxd3b">.css-qtxd3b{color:var(--theme-ui-colors-primary,#943733);-webkit-text-decoration:none;text-decoration:none;}.css-qtxd3b:hover{color:var(--theme-ui-colors-secondary,#9e9e9e);-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="http://www.ispyconnect.com/sources.aspx" class="css-qtxd3b">find a list here</a>.</p><h4 id="parameters-2" class="css-14t8hvg"><a href="#parameters-2" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the IP capture device can be found in the <code class="css-ueqitl">config/capture.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">IPCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">url</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">http://username:password@ipaddress/image.jpg</span><span class="mtk17">&lt;/</span><span class="mtk4">url</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameWidth</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">800</span><span class="mtk17">&lt;/</span><span class="mtk4">frameWidth</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">frameHeight</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">640</span><span class="mtk17">&lt;/</span><span class="mtk4">frameHeight</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">delay</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">delay</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">angle</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">angle</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">IPCamera</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">captures</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="url" class="css-1hd0wv1"><a href="#url" class="css-1r0pe6c">URL</a></h5><p class="css-1ftn47p">To use your IP camera, you should provide a valid RTSP (or MJPEG) URL. The machinery will take snapshots from this stream.</p><h5 id="framewidth-and--height-2" class="css-1hd0wv1"><a href="#framewidth-and--height-2" class="css-1r0pe6c">Framewidth and -height</a></h5><p class="css-1ftn47p">You can set the resolution of the capture device, make sure the resolution you&#x27;ve defined is equal to the resolution you&#x27;ve defined in your IP-camera software.</p><h5 id="delay-2" class="css-1hd0wv1"><a href="#delay-2" class="css-1r0pe6c">Delay</a></h5><p class="css-1ftn47p">You can provide a delay/interval (milliseconds) between two captures.</p><h5 id="angle-2" class="css-1hd0wv1"><a href="#angle-2" class="css-1r0pe6c">Angle</a></h5><p class="css-1ftn47p">By defining an angle (degrees), you can rotate the images taken by the capture device. For example if you would mount the camera upside down, than you could enter the value 180 as the angle; this will flip the images.</p><h2 id="condition" class="css-r53osx"><a href="#condition" class="css-1r0pe6c">Condition</a></h2><p class="css-1ftn47p">The condition is the first step of the four passway. In this step the machinery will determine if it&#x27;s allowed to proceed to the next step. For example a condition can be a time constraint, a brightness threshold, etc; multiple conditions can be selected.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">condition</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;condition.xml&quot;</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;multiple&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Enabled</span><span class="mtk17">&lt;/</span><span class="mtk4">condition</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><h3 id="enabled" class="css-1yfs3hu"><a href="#enabled" class="css-1r0pe6c">Enabled</a></h3><p class="css-1ftn47p">It can be helpful to enable or disable the machinery at specific times. Therefore the time condition makes it possible to select a time range for each day of the week. When the current time is within the time range, the machinery will be enabled.</p><h4 id="parameters-3" class="css-14t8hvg"><a href="#parameters-3" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Enabled condition can be found in the <code class="css-ueqitl">config/condition.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">conditions</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Enabled</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">active</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">true</span><span class="mtk17">&lt;/</span><span class="mtk4">active</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">delay</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">5000</span><span class="mtk17">&lt;/</span><span class="mtk4">delay</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Enabled</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">conditions</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="active" class="css-1hd0wv1"><a href="#active" class="css-1r0pe6c">Active</a></h5><p class="css-1ftn47p">The active field is boolean value (true/false). When the active field is true, the machinery is enabled, if not it&#x27;s disabled.</p><h5 id="delay-3" class="css-1hd0wv1"><a href="#delay-3" class="css-1r0pe6c">Delay</a></h5><p class="css-1ftn47p">The delay value is used when the condition failed, so when the current time isn&#x27;t in the selected time range for that day. In that case the machinery will idle for the specified delay time. The value of the delay is expressed in miliseconds.</p><h3 id="time" class="css-1yfs3hu"><a href="#time" class="css-1r0pe6c">Time</a></h3><p class="css-1ftn47p">It can be helpful to enable or disable the machinery at specific times. Therefore the time condition makes it possible to select a time range for each day of the week. When the current time is within the time range, the machinery will be enabled.</p><h4 id="parameters-4" class="css-14t8hvg"><a href="#parameters-4" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Time condition can be found in the <code class="css-ueqitl">config/condition.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">conditions</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Time</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">times</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;timeselection&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">13:00,15:00-0:01,20:58-0:01,20:59-0:01,19:20-0:01,21:59-0,0-0,0</span><span class="mtk17">&lt;/</span><span class="mtk4">times</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">delay</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">10000</span><span class="mtk17">&lt;/</span><span class="mtk4">delay</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Time</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">conditions</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="times" class="css-1hd0wv1"><a href="#times" class="css-1r0pe6c">Times</a></h5><p class="css-1ftn47p">The times property contains a list of times, delimited by a &quot;-&quot;. The first item in the list will specify the time range for the first day of the week (Monday), the last item for the last day of the week (Sunday). The begin- and end-time, for a specific day, are delimited by a &quot;,&quot; where the first element will specify that start time and the second one specifies the end time.</p><h5 id="delay-4" class="css-1hd0wv1"><a href="#delay-4" class="css-1r0pe6c">Delay</a></h5><p class="css-1ftn47p">The delay value is used when the condition failed, so when the current time isn&#x27;t in the selected time range for that day. In that case the machinery will idle for the specified delay time. The value of the delay is expressed in miliseconds.</p><h2 id="algorithm" class="css-r53osx"><a href="#algorithm" class="css-1r0pe6c">Algorithm</a></h2><p class="css-1ftn47p">The algorithm is the second step of the four passway. An algorithm will execute some kind of function on a sequence of images, and end up with a black and white image; just like the image below. An example of an algorithm would be one that does motion detection or one that would detect cats or dogs (using TensorFlow, ar any other Deep Learning framework).</p><p class="css-1ftn47p"><img alt="machinery algorithm" src="/static/algorithm-ca4ee532503e3ba3dbcb45c72ef54500.png" class="css-1a2e1jm"/></p><p class="css-1ftn47p">The white pixels on the image will indicate the object of interest. For example, when looking for motion, the pixels that have been changed; it depends on what the algorithm is looking for. The black pixels are background pixels.</p><p class="css-1ftn47p">The only convention that an algorithm should meet is that it should return a black and white image to the next step; the expositor. And of course that it requires a sequence of images as a parameter. Besides those conventions, an algorithm can do everything it wants to do. So you could create your own cat detection algorithm, marker detection, etc.</p><p class="css-1ftn47p">You can select the algortihm in the <code class="css-ueqitl">config/config.xml</code>.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">algorithm</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;algorithm.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">DifferentialCollins</span><span class="mtk17">&lt;/</span><span class="mtk4">algorithm</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><h3 id="differential-images" class="css-1yfs3hu"><a href="#differential-images" class="css-1r0pe6c">Differential images</a></h3><p class="css-1ftn47p">This algorithm is a very simple method to detect motion; in terms of understanding but also processing. Just like the name says, it&#x27;s the result of comparing images. When the images are compared, we know the pixels that have been changed and if the amount of pixels that changed is big enough, one can say that something happened and thus motion was detected.</p><p class="css-1ftn47p">To get a more technical explanation: the algoritm will substract 2 or more images, and once that is done it will end up with a black and white image. The white pixels will mark the pixels that where different/changed and the black pixels are the pixels that have not changed; background pixels. Please note that there are several different combinations of substracting images. However for the machinery, we will use the method of Collins et al. as this method erases the phenomenon &quot;ghosting&quot;.</p><p class="css-1ftn47p"><img alt="machinery differential" src="/static/differential_images-b093c89624e6fead2708e48636e010b5.png" class="css-1a2e1jm"/></p><p class="css-1ftn47p">In the image above the method of Collins et al. is illustrated. For this method we will process three images. The images are a sequence (from left to right), so the first (A) image was taken before the second (B) one, and the second (B) before the third (C) one. Next we will do a first comparision (C-B) of the third (C) image and the second (B) image, and after that we will do a second comparison (C-A) of the third (C) image and first (A) image.</p><p class="css-1ftn47p">After the comparison we will end up with two difference images (C-B) and (C-A); both will mark the white pixels as changed pixels and black as non-changed pixels. To finish the algorithm we will do a logical AND-operation of the two difference images; this will give us the final black and white image ((C-B)&amp;&amp;(C-A)).</p><p class="css-1ftn47p">The main idea of the Colins et al. method, is that it will erase &quot;ghosting&quot;. In the last step we are doing a logical AND-operation, by doing this we will only keep the pixels, that changed in the first two images; therefore we can elimante false positives.</p><h4 id="parameters-5" class="css-14t8hvg"><a href="#parameters-5" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Differential images algorithm can be found in the config/algorithm.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">algorithms</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">DifferentialCollins</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">erode</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">5</span><span class="mtk17">&lt;/</span><span class="mtk4">erode</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">threshold</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">20</span><span class="mtk17">&lt;/</span><span class="mtk4">threshold</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">DifferentialCollins</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">algorithms</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="erode" class="css-1hd0wv1"><a href="#erode" class="css-1r0pe6c">Erode</a></h5><p class="css-1ftn47p">The erode parameter represents a structural element (a morphological operation), which will be used to minimize the changed pixels; more information about eroding can be found here. The idea of the eroding is that pixels which are isolated will be removed; this means that when only one pixel changed, that pixel will reverted to the non-changed state. But for example when a large change happens and a lot of adjacent pixels are changed, the eroding will not be able to revert them.</p><p class="css-1ftn47p">The higher the number of the erode parameter, the more aggressive the eroding will be. So high erode values, will make it possible that also large changes will be reverted to the non-changed state.</p><h5 id="threshold" class="css-1hd0wv1"><a href="#threshold" class="css-1r0pe6c">Threshold</a></h5><p class="css-1ftn47p">When doing the comparison of two images, we won&#x27;t end up with a clean black and white image. In most of the cases the values will be between 0 and 255; so gray values. This means that the value 0 will mean that both pixels where the same in both image, and values 255 mean that both pixels where totally different in both images. Of course we will also have values between 0-255, so pixels that are a little bit different in both images. So to make the resulting black and white image, we will need to apply a threshold value.</p><p class="css-1ftn47p">The threshold will specify how much a pixel has to be different in the two images. So for example when the threshold is 30, it means that the difference between two pixels has to be equal or more then 30. The higher the threshold the more the pixel needs to be different, to be marked as changed.</p><h2 id="expositor" class="css-r53osx"><a href="#expositor" class="css-1r0pe6c">Expositor</a></h2><p class="css-1ftn47p">After the algorithm is executed, the expositor will determine, a region, where the changes were detected. An expositor can constrain a region in terms of selecting a hull or defining a rectangle.</p><p class="css-1ftn47p">An expositor receives a black and white image as parameter and should modify a JSON object with all the information it processed. The JSON object must include: the bounding rectangle(s) of the positions where the pixels of interest are located and the number of pixels of interest. But can also include other optional parameters.</p><p class="css-1ftn47p">You can change the expositor by changing the <code class="css-ueqitl">config/config.xml</code> file, and choose one of the following:</p><ul class="css-cvh4i0"><li class="css-q43a5f">Hull</li><li class="css-q43a5f">Rectangle</li></ul><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">expositor</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;expositor.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Hull</span><span class="mtk17">&lt;/</span><span class="mtk4">expositor</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><h3 id="rectangle" class="css-1yfs3hu"><a href="#rectangle" class="css-1r0pe6c">Rectangle</a></h3><p class="css-1ftn47p">This is a trivial expositor. A rectangle region can be defined to constrain the locations of pixels of interest. The rectangle repositor will return the region of the pixels of interest.</p><h4 id="parameters-6" class="css-14t8hvg"><a href="#parameters-6" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the rectangle expositor can be found in the config/expositor.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">expositors</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Rectangle</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">region</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">x1</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">x1</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">y1</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">y1</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">x2</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1280</span><span class="mtk17">&lt;/</span><span class="mtk4">x2</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">      </span><span class="mtk17">&lt;</span><span class="mtk4">y2</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">720</span><span class="mtk17">&lt;/</span><span class="mtk4">y2</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">region</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Rectangle</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">expositors</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="region" class="css-1hd0wv1"><a href="#region" class="css-1r0pe6c">Region</a></h5><p class="css-1ftn47p">The region parameter contains 4 values; x1, y1, x2 and y2 respectively. The values x1 and y1 indicate the x- and y-coordinate of the left upper starting point. The values x2 and y2 are the bottom right coordinates. A virtual rectangle will be drawn from (x1,y1) to (x2,y2). Pixels of interest that lie within this rectangle are valid pixels; if not they are invalid.</p><h3 id="hull" class="css-1yfs3hu"><a href="#hull" class="css-1r0pe6c">Hull</a></h3><p class="css-1ftn47p">This hull is a more complex expositor than the rectangle. A hull can be selected with the web, you can select one or more coordinates to create a flexible region. The coordinates can be adjusted afterwards and be removed by double clicking on the coordinate. You can expand the hull by removing the start coordinate, which is marked by the white bullet.</p><p class="css-1ftn47p"><img alt="machinery hull" src="/static/hull-ffb0e94a1b34b7c2c4ae2392c7f728b4.png" class="css-1a2e1jm"/></p><h4 id="parameters-7" class="css-14t8hvg"><a href="#parameters-7" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the hull expositor can be found in the config/expositor.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">expositors</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Hull</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">region</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;hullselection&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">347,361|627,266|975,328|1091,328|1148,413|1158,516|1121,534|962,567|699,648|531,700|243,613|423,550|665,453|850,470|666,361|467,385|325,460|165,372</span><span class="mtk17">&lt;/</span><span class="mtk4">region</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Hull</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">expositors</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="region-1" class="css-1hd0wv1"><a href="#region-1" class="css-1r0pe6c">Region</a></h5><p class="css-1ftn47p">The region parameter contains n values. Each value represents a coordinate (x,y) and are seperated by the &quot;|&quot; delimiter. These coordinates are used to calculate the concave hull. Pixels of interest that lie within the concave hull are valid pixels; if not they are invalid.</p><h2 id="heuristic" class="css-r53osx"><a href="#heuristic" class="css-1r0pe6c">Heuristic</a></h2><p class="css-1ftn47p">The heuristic is the last step in the four passway which will decide if the detection is valid or not. It will do this by using information from the previous steps (the expositor and the algorithm); e.g. number of changed pixels.</p><p class="css-1ftn47p">You can change the heuristic by changing the <code class="css-ueqitl">config/config.xml</code> file, and choose one of the following:</p><ul class="css-cvh4i0"><li class="css-q43a5f">Sequence</li></ul><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">heuristic</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;heuristic.xml&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Sequence</span><span class="mtk17">&lt;/</span><span class="mtk4">heuristic</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><h3 id="sequence" class="css-1yfs3hu"><a href="#sequence" class="css-1r0pe6c">Sequence</a></h3><p class="css-1ftn47p">This is a trivial heuristic. The sequence heuristic will store a single integer in memory, that will count the numbers of valid detections. When the heuristic will detect a false detection, it will decrease the count. The sequence heuristic will return true, if a threshold is reached; for example when something was detected three times in a row.</p><h4 id="parameters-8" class="css-14t8hvg"><a href="#parameters-8" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Sequence heuristic can be found in the config/heuristic.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">heuristics</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">Sequence</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">minimumChanges</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1</span><span class="mtk17">&lt;/</span><span class="mtk4">minimumChanges</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">minimumDuration</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1</span><span class="mtk17">&lt;/</span><span class="mtk4">minimumDuration</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">noMotionDelayTime</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">2000</span><span class="mtk17">&lt;/</span><span class="mtk4">noMotionDelayTime</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Sequence</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">heuristics</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="minimum-changes" class="css-1hd0wv1"><a href="#minimum-changes" class="css-1r0pe6c">Minimum changes</a></h5><p class="css-1ftn47p">The heuristic will only return true if enough changes have been detected. The minimum of changes indicates the minimum number of pixels that have to been changed, to be a valid detection.</p><h5 id="minimum-durations" class="css-1hd0wv1"><a href="#minimum-durations" class="css-1r0pe6c">Minimum durations</a></h5><p class="css-1ftn47p">The minimum number of detections in a row to be a valid detection.</p><h5 id="no-motion-delay-time" class="css-1hd0wv1"><a href="#no-motion-delay-time" class="css-1r0pe6c">No motion delay time</a></h5><p class="css-1ftn47p">When the heuristic failed, due to not enough pixels changed or not x detections in a row, the heuristic will idle for some time.</p><h2 id="output" class="css-r53osx"><a href="#output" class="css-1r0pe6c">Output</a></h2><p class="css-1ftn47p">If the heuristic determined that the evaluation was valid, one or more output operations can be executed. You configure which ooutput operations that will be executed, by modifying the configuration file or using the web interface.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;?</span><span class="mtk4">xml</span><span class="mtk12"> version</span><span class="mtk1">=</span><span class="mtk8">&quot;1.0&quot;</span><span class="mtk17">?&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">io</span><span class="mtk1"> </span><span class="mtk12">file</span><span class="mtk1">=</span><span class="mtk8">&quot;io.xml&quot;</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;multiple&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">Video</span><span class="mtk17">&lt;/</span><span class="mtk4">io</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">instance</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">kerberos</span><span class="mtk17">&gt;</span></span></code></pre><p class="css-1ftn47p">You can choose which output devices you will be using. If you select multiple outputs, seperate them with an <code class="css-ueqitl">,</code>. You can change the output device by changing the <code class="css-ueqitl">config/config.xml</code> file, and choose one of the following:</p><ul class="css-cvh4i0"><li class="css-q43a5f">Disk</li><li class="css-q43a5f">Video</li><li class="css-q43a5f">GPIO</li><li class="css-q43a5f">TCPSocket</li><li class="css-q43a5f">Webhook</li><li class="css-q43a5f">MQTT</li><li class="css-q43a5f">Script</li></ul><h3 id="disk" class="css-1yfs3hu"><a href="#disk" class="css-1r0pe6c">Disk</a></h3><p class="css-1ftn47p">An image can be saved to disk.</p><h4 id="parameters-9" class="css-14t8hvg"><a href="#parameters-9" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Disk output device can be found in the <code class="css-ueqitl">config/io.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Disk</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">fileFormat</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">timestamp_microseconds_instanceName_regionCoordinates_numberOfChanges_token.jpg</span><span class="mtk17">&lt;/</span><span class="mtk4">fileFormat</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">directory</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">/etc/opt/kerberosio/capture/</span><span class="mtk17">&lt;/</span><span class="mtk4">directory</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">markWithTimestamp</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">markWithTimestamp</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">timestampColor</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">white</span><span class="mtk17">&lt;/</span><span class="mtk4">timestampColor</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">privacy</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">privacy</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Disk</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="file-format" class="css-1hd0wv1"><a href="#file-format" class="css-1r0pe6c">File format</a></h5><p class="css-1ftn47p">The format that will be used for the name of the image. One or more variables can be defined and will be replaced by the machinery. Note that when you&#x27;re using a variables name in the file format, that this name should be defined in the JSON object.</p><h5 id="directory" class="css-1hd0wv1"><a href="#directory" class="css-1r0pe6c">Directory</a></h5><p class="css-1ftn47p">The directory where the image will be saved to. By default images are saved to the /etc/opt/kerberosio/capture directory.</p><h5 id="mark-with-timestamp" class="css-1hd0wv1"><a href="#mark-with-timestamp" class="css-1r0pe6c">Mark with timestamp</a></h5><p class="css-1ftn47p">When this settings is set to true, the image is marked with a timestamp.</p><h5 id="timestamp-color" class="css-1hd0wv1"><a href="#timestamp-color" class="css-1r0pe6c">Timestamp color</a></h5><p class="css-1ftn47p">A color can be defined for timestamp: white, black, red, green and blue.</p><h5 id="privacy" class="css-1hd0wv1"><a href="#privacy" class="css-1r0pe6c">Privacy</a></h5><p class="css-1ftn47p">The privacy mode can be activated to remove some parts from the image. This especially helpful if you want to filter out public areas.  When this option is enabled you will seee that after configuring the Hull expositor, you&#x27;ll see that the pixels outside your region of interest (Hull) are made black.</p><h5 id="throttler" class="css-1hd0wv1"><a href="#throttler" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the Disk will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h3 id="video" class="css-1yfs3hu"><a href="#video" class="css-1r0pe6c">Video</a></h3><p class="css-1ftn47p">When a valid event is detected, a video will be recorded for x seconds. When more valid events are detected, while a video is recording, the video file will further record for x seconds; so no new video file be recorded, but the existing one will be expanded.</p><h4 id="parameters-10" class="css-14t8hvg"><a href="#parameters-10" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Video output device can be found in the <code class="css-ueqitl">config/io.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Video</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">fps</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">3</span><span class="mtk17">&lt;/</span><span class="mtk4">fps</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">recordAfter</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">5</span><span class="mtk17">&lt;/</span><span class="mtk4">recordAfter</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">maxDuration</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">120</span><span class="mtk17">&lt;/</span><span class="mtk4">maxDuration</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">extension</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">mp4</span><span class="mtk17">&lt;/</span><span class="mtk4">extension</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">codec</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">h264</span><span class="mtk17">&lt;/</span><span class="mtk4">codec</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">fileFormat</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">timestamp_microseconds_instanceName_regionCoordinates_numberOfChanges_token</span><span class="mtk17">&lt;/</span><span class="mtk4">fileFormat</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">directory</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">/etc/opt/kerberosio/capture/</span><span class="mtk17">&lt;/</span><span class="mtk4">directory</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">hardwareDirectory</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">/etc/opt/kerberosio/h264/</span><span class="mtk17">&lt;/</span><span class="mtk4">hardwareDirectory</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">enableHardwareEncoding</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">true</span><span class="mtk17">&lt;/</span><span class="mtk4">enableHardwareEncoding</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">markWithTimestamp</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">markWithTimestamp</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">timestampColor</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">white</span><span class="mtk17">&lt;/</span><span class="mtk4">timestampColor</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">privacy</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">privacy</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Video</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="fps" class="css-1hd0wv1"><a href="#fps" class="css-1r0pe6c">FPS</a></h5><p class="css-1ftn47p">The frames per second of the video being recorded. Please note that this number is limited and depends heavily on your hardware setup. You&#x27;ll be receiving following warning in the systems logs, if the machinery can&#x27;t write the desired FPS.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="text"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line">[trivial] IoVideo: framerate is too fast, can&#x27;t record video at this speed (8/FPS)</span></code></pre><h5 id="record-after" class="css-1hd0wv1"><a href="#record-after" class="css-1r0pe6c">Record after</a></h5><p class="css-1ftn47p">The number of seconds recorded after the last valid event was detected. This means that when a video is already recording, and a valid event was detected, the video will be expanded with x more seconds.</p><h5 id="extensions" class="css-1hd0wv1"><a href="#extensions" class="css-1r0pe6c">Extensions</a></h5><p class="css-1ftn47p">The extension or container of the video file. We highly recommend to use the MP4 container if you want cross-browser support. Leave this setting by default, if you don&#x27;t know what you&#x27;re doing.</p><h5 id="codec" class="css-1hd0wv1"><a href="#codec" class="css-1r0pe6c">Codec</a></h5><p class="css-1ftn47p">The codec that is used to encode the video file.</p><h5 id="file-format-1" class="css-1hd0wv1"><a href="#file-format-1" class="css-1r0pe6c">File format</a></h5><p class="css-1ftn47p">The format that will be used for the name of the image. One or more variables can be defined and will be replaced by the machinery. Note that when you&#x27;re using a variables name in the file format, that this name should be defined in the JSON object.</p><h5 id="directory-1" class="css-1hd0wv1"><a href="#directory-1" class="css-1r0pe6c">Directory</a></h5><p class="css-1ftn47p">The directory where the videos will be saved. By default videos are saved to the /etc/opt/kerberosio/capture directory.</p><h5 id="hardware-directory" class="css-1hd0wv1"><a href="#hardware-directory" class="css-1r0pe6c">Hardware directory</a></h5><p class="css-1ftn47p">When using onboard hardware encoding (e.g. with Raspberry Pi camera), h264 video files are generated and stored in this directory. Afterwards these h264 files will be containerized to mp4 files, and stored in the Directory path.</p><h5 id="enable-hardware-encoding" class="css-1hd0wv1"><a href="#enable-hardware-encoding" class="css-1r0pe6c">Enable Hardware encoding</a></h5><p class="css-1ftn47p">A boolean which can enable or disable hardware encoding. Please note that this option is enabled by default, but does not mean that it will work if you choose to use an USB camera.</p><h5 id="mark-with-timestamp-1" class="css-1hd0wv1"><a href="#mark-with-timestamp-1" class="css-1r0pe6c">Mark with timestamp</a></h5><p class="css-1ftn47p">When this settings is set to true, the video is marked with a timestamp (similar to the Disk device).</p><h5 id="timestamp-color-1" class="css-1hd0wv1"><a href="#timestamp-color-1" class="css-1r0pe6c">Timestamp color</a></h5><p class="css-1ftn47p">A color can be defined for timestamp: white, black, red, green and blue.</p><h5 id="privacy-1" class="css-1hd0wv1"><a href="#privacy-1" class="css-1r0pe6c">Privacy</a></h5><p class="css-1ftn47p">The privacy mode can be activated to remove some parts from the video. This especially helpful if you want to filter out public areas.</p><h5 id="video-privacy" class="css-1hd0wv1"><a href="#video-privacy" class="css-1r0pe6c">Video privacy</a></h5><p class="css-1ftn47p">After updating the configuration, you&#x27;ll see that the pixels outside your region of interest (ROI) are made black; the image below illustrates this.</p><h5 id="throttler-1" class="css-1hd0wv1"><a href="#throttler-1" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the Video will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h3 id="tcpip-client" class="css-1yfs3hu"><a href="#tcpip-client" class="css-1r0pe6c">TCP/IP client</a></h3><p class="css-1ftn47p">The TCP/IP client will send a TCP packet to a server.</p><h4 id="parameters-11" class="css-14t8hvg"><a href="#parameters-11" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the TCP/IP client can be found in the config/io.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">TCPSocket</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">server</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">127.0.0.1</span><span class="mtk17">&lt;/</span><span class="mtk4">server</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">port</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1337</span><span class="mtk17">&lt;/</span><span class="mtk4">port</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">message</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">it&#x27;s so fluffy</span><span class="mtk17">&lt;/</span><span class="mtk4">message</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">TCPSocket</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="server" class="css-1hd0wv1"><a href="#server" class="css-1r0pe6c">Server</a></h5><p class="css-1ftn47p">The IP of the TCP server.</p><h5 id="port" class="css-1hd0wv1"><a href="#port" class="css-1r0pe6c">Port</a></h5><p class="css-1ftn47p">This is the port of the TCP server.</p><h5 id="message" class="css-1hd0wv1"><a href="#message" class="css-1r0pe6c">Message</a></h5><p class="css-1ftn47p">You can send some data to a TCP server.</p><h5 id="throttler-2" class="css-1hd0wv1"><a href="#throttler-2" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the TCP will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h3 id="gpio" class="css-1yfs3hu"><a href="#gpio" class="css-1r0pe6c">GPIO</a></h3><p class="css-1ftn47p">A GPIO pin can be set as output device.</p><h4 id="parameters-12" class="css-14t8hvg"><a href="#parameters-12" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the GPIO pin can be found in the <code class="css-ueqitl">config/io.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">GPIO</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">pin</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">17</span><span class="mtk17">&lt;/</span><span class="mtk4">pin</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">periods</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">5</span><span class="mtk17">&lt;/</span><span class="mtk4">periods</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">periodTime</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">100000</span><span class="mtk17">&lt;/</span><span class="mtk4">periodTime</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">GPIO</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="pin" class="css-1hd0wv1"><a href="#pin" class="css-1r0pe6c">Pin</a></h5><p class="css-1ftn47p">The pin that will be triggered.</p><h5 id="periods" class="css-1hd0wv1"><a href="#periods" class="css-1r0pe6c">Periods</a></h5><p class="css-1ftn47p">The number of times the pin will be triggered.</p><h5 id="period-time" class="css-1hd0wv1"><a href="#period-time" class="css-1r0pe6c">Period time</a></h5><p class="css-1ftn47p">The time in microseconds that the pin will be set high.</p><h5 id="throttler-3" class="css-1hd0wv1"><a href="#throttler-3" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the GPIO will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h3 id="webhook" class="css-1yfs3hu"><a href="#webhook" class="css-1r0pe6c">Webhook</a></h3><p class="css-1ftn47p">Detailed information (a JSON object) is send as a POST request to a webhook. The JSON object contains the number of changes, the region, the URL of the image, etc. This is useful if you want to integrate with your own application.</p><p class="css-1ftn47p">Make sure that the Webhook comes after the Disk device, otherwise the URL of the image is not included.</p><h4 id="parameters-13" class="css-14t8hvg"><a href="#parameters-13" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the webhook can be found in the config/io.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Webhook</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">url</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">http://kerberos.web/api/v1/webhook</span><span class="mtk17">&lt;/</span><span class="mtk4">url</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Webhook</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="url-1" class="css-1hd0wv1"><a href="#url-1" class="css-1r0pe6c">Url</a></h5><p class="css-1ftn47p">This is the URL, to which the machinery will send a JSON object (as a POST request).</p><h5 id="throttler-4" class="css-1hd0wv1"><a href="#throttler-4" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the Webhook will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h5 id="output-1" class="css-1hd0wv1"><a href="#output-1" class="css-1r0pe6c">Output</a></h5><p class="css-1ftn47p">A JSON object is POSTed to the url you&#x27;ve defined.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="json"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk1">[</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;regionCoordinates&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> [</span><span class="mtk7">618</span><span class="mtk1">, </span><span class="mtk7">317</span><span class="mtk1">, </span><span class="mtk7">703</span><span class="mtk1">, </span><span class="mtk7">493</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;numberOfChanges&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk7">5446</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;timestamp&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">1465894497</span><span class="mtk14">&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;microseconds&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">5-97451</span><span class="mtk14">&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;token&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk7">695</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;pathToImage&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">1465894497</span><span class="mtk14">_</span><span class="mtk7">5-97451</span><span class="mtk14">_frontdoor_</span><span class="mtk7">618-317-703-493</span><span class="mtk14">_</span><span class="mtk7">5446</span><span class="mtk14">_</span><span class="mtk7">695</span><span class="mtk14">.jpg&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;instanceName&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;frontdoor&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">]</span></span></code></pre><h3 id="script" class="css-1yfs3hu"><a href="#script" class="css-1r0pe6c">Script</a></h3><p class="css-1ftn47p">A bash script can be executed after a valid event was detected. A JSON object is send in the first parameter to the script you&#x27;ve defined.</p><h4 id="parameters-14" class="css-14t8hvg"><a href="#parameters-14" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the Script output device can be found in the config/io.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;</span><span class="mtk4">Script</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">path</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">/etc/opt/kerberosio/scripts/run.sh</span><span class="mtk17">&lt;/</span><span class="mtk4">path</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">Script</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="path" class="css-1hd0wv1"><a href="#path" class="css-1r0pe6c">Path</a></h5><p class="css-1ftn47p">The location of the script that will be executed on detection.</p><h5 id="throttler-5" class="css-1hd0wv1"><a href="#throttler-5" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the Script will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h5 id="example" class="css-1hd0wv1"><a href="#example" class="css-1r0pe6c">Example</a></h5><p class="css-1ftn47p">By default the script will point to /etc/opt/kerberosio/scripts/run.sh, which contains a template how you should start your script. Note that when using KiOS, this script will be read-only, copy it to the /data folder and change the path parameter.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="python"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk3">#!/bin/bash</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># -------------------------------------------</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># This is an example script which illustrates</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># how to use the Script IO device.</span></span>
<span class="vscode-highlight-line"><span class="mtk3">#</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># --------------------------------------</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># The first parameter is the JSON object</span></span>
<span class="vscode-highlight-line"><span class="mtk3">#</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># e.g. {&quot;regionCoordinates&quot;:[308,250,346,329],&quot;numberOfChanges&quot;:194,&quot;timestamp&quot;:&quot;1486049622&quot;,&quot;microseconds&quot;:&quot;6-161868&quot;,&quot;token&quot;:344,&quot;pathToImage&quot;:&quot;1486049622_6-161868_frontdoor_308-250-346-329_194_344.jpg&quot;,&quot;instanceName&quot;:&quot;frontdoor&quot;}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">JSON=</span><span class="mtk14">$</span><span class="mtk7">1</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># -------------------------------------------</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># You can use python to parse the JSON object</span></span>
<span class="vscode-highlight-line"><span class="mtk3"># and get the required fields</span></span>
<span class="vscode-highlight-line"><span class="mtk1">name=</span><span class="mtk14">$</span><span class="mtk1">(echo </span><span class="mtk14">$</span><span class="mtk1">JSON | python -c </span><span class="mtk8">&quot;import sys, json; print json.load(sys.stdin)[&#x27;instanceName&#x27;]&quot;</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">coordinates=</span><span class="mtk14">$</span><span class="mtk1">(echo </span><span class="mtk14">$</span><span class="mtk1">JSON | python -c </span><span class="mtk8">&quot;import sys, json; print json.load(sys.stdin)[&#x27;regionCoordinates&#x27;]&quot;</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">changes=</span><span class="mtk14">$</span><span class="mtk1">(echo </span><span class="mtk14">$</span><span class="mtk1">JSON | pythfon -c </span><span class="mtk8">&quot;import sys, json; print json.load(sys.stdin)[&#x27;numberOfChanges&#x27;]&quot;</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">image=</span><span class="mtk14">$</span><span class="mtk1">(echo </span><span class="mtk14">$</span><span class="mtk1">JSON | python -c </span><span class="mtk8">&quot;import sys, json; print json.load(sys.stdin)[&#x27;pathToImage&#x27;]&quot;</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">The idea </span><span class="mtk4">is</span><span class="mtk1"> that you can use Python </span><span class="mtk4">in</span><span class="mtk1"> your bash script, to parse the JSON </span><span class="mtk10">object</span><span class="mtk1"> send </span><span class="mtk15">as</span><span class="mtk1"> first parameter. Afterwards you can do </span><span class="mtk15">with</span><span class="mtk1"> the output what you want.</span></span></code></pre><h3 id="mqtt" class="css-1yfs3hu"><a href="#mqtt" class="css-1r0pe6c">MQTT</a></h3><p class="css-1ftn47p">MQTT protocol is a light-weight Machine to Machine (M2M) protocol widely used in Internet of things.
Detailed information (a JSON object) is published to an MQTT topic. The JSON object contains the number of changes, the region, the URL of the image, etc.</p><h4 id="parameters-15" class="css-14t8hvg"><a href="#parameters-15" class="css-1r0pe6c">Parameters</a></h4><p class="css-1ftn47p">The parameters of the MQTT output can be found in the config/io.xml file, but you can also use the web to modify the parameters. Below you see a default configuration file.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">ios</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  &lt;MQTT</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">secure</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">secure</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">verifycn</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">false</span><span class="mtk17">&lt;/</span><span class="mtk4">verifycn</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">server</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">127.0.0.1</span><span class="mtk17">&lt;/</span><span class="mtk4">server</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">port</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">1883</span><span class="mtk17">&lt;/</span><span class="mtk4">port</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">topic</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">kios/mqtt</span><span class="mtk17">&lt;/</span><span class="mtk4">topic</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">username</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">username</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">password</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;text&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">password</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;</span><span class="mtk4">throttler</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">0</span><span class="mtk17">&lt;/</span><span class="mtk4">throttler</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk17">&lt;/</span><span class="mtk4">MQTT</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">ios</span><span class="mtk17">&gt;</span></span></code></pre><h5 id="secure" class="css-1hd0wv1"><a href="#secure" class="css-1r0pe6c">Secure</a></h5><p class="css-1ftn47p">If checked, enable SSL/TLS support. Please note that when SSL/TLS support is enabled, the server certificate issuer is verified against the CA (Certification Authority) files available in /etc/ssl/certs.</p><h5 id="verifycn" class="css-1hd0wv1"><a href="#verifycn" class="css-1r0pe6c">Verifycn</a></h5><p class="css-1ftn47p">If checked, the MQTT server FQDN or ip address must match the CN (Common Name) of the server certificate.</p><h5 id="server-1" class="css-1hd0wv1"><a href="#server-1" class="css-1r0pe6c">Server</a></h5><p class="css-1ftn47p">IP address or FQDN of the MQTT broker.</p><h5 id="port-1" class="css-1hd0wv1"><a href="#port-1" class="css-1r0pe6c">Port</a></h5><p class="css-1ftn47p">TCP port of the MQTT broker.</p><h5 id="topic" class="css-1hd0wv1"><a href="#topic" class="css-1r0pe6c">Topic</a></h5><p class="css-1ftn47p">The topic to publish to.</p><h5 id="username" class="css-1hd0wv1"><a href="#username" class="css-1r0pe6c">Username</a></h5><p class="css-1ftn47p">The username for authenticating to the MQTT broker. This is only supported by brokers that implement the MQTT spec v3.1. If username is not set (empty), the password argument is ignored. This is only needed if the MQTT broker is configured for authentication.</p><h5 id="password" class="css-1hd0wv1"><a href="#password" class="css-1r0pe6c">Password</a></h5><p class="css-1ftn47p">The password to use, together with the username, for authenticating to the MQTT broker. This is only supported by brokers that implement the MQTT spec v3.1. This is only needed if the MQTT broker is configured for authentication.</p><h5 id="throttler-6" class="css-1hd0wv1"><a href="#throttler-6" class="css-1r0pe6c">Throttler</a></h5><p class="css-1ftn47p">Control the number of executions by setting a throttling value. E.g. if you set throttling to 5, the MQTT will only be triggered once in 5 seconds, nevertheless more detections occurred.</p><h5 id="output-2" class="css-1hd0wv1"><a href="#output-2" class="css-1r0pe6c">Output</a></h5><p class="css-1ftn47p">A JSON object is published to the topic of the MQTT broker you have configured.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="json"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk1">[</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;regionCoordinates&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> [</span><span class="mtk7">618</span><span class="mtk1">, </span><span class="mtk7">317</span><span class="mtk1">, </span><span class="mtk7">703</span><span class="mtk1">, </span><span class="mtk7">493</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;numberOfChanges&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk7">5446</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;timestamp&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">1465894497</span><span class="mtk14">&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;microseconds&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">5-97451</span><span class="mtk14">&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;token&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk7">695</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;pathToImage&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;</span><span class="mtk7">1465894497</span><span class="mtk14">_</span><span class="mtk7">5-97451</span><span class="mtk14">_frontdoor_</span><span class="mtk7">618-317-703-493</span><span class="mtk14">_</span><span class="mtk7">5446</span><span class="mtk14">_</span><span class="mtk7">695</span><span class="mtk14">.jpg&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">  </span><span class="mtk14">&#x27;instanceName&#x27;</span><span class="mtk1"> </span><span class="mtk14">:</span><span class="mtk1"> </span><span class="mtk14">&#x27;frontdoor&#x27;</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">]</span></span></code></pre><h5 id="example-1" class="css-1hd0wv1"><a href="#example-1" class="css-1r0pe6c">Example</a></h5><p class="css-1ftn47p">It is possible to subscribe multiple distributed IoT devices to the same MQTT topic and perform specific actions upon the detection of a motion. Devices with more resources could fetch the image to perform further elaboration.</p><h2 id="streaming" class="css-r53osx"><a href="#streaming" class="css-1r0pe6c">Streaming</a></h2><p class="css-1ftn47p">The machinery has the ability to stream your capture device as a MJPG stream.</p><h3 id="parameters-16" class="css-1yfs3hu"><a href="#parameters-16" class="css-1r0pe6c">Parameters</a></h3><p class="css-1ftn47p">The parameters for the supported streaming protocols can be found in the <code class="css-ueqitl">config/stream.xml</code> file, but you can also use the web to modify the parameters. Below you see a default configuration file; at the moment of writing only a MJPG stream is supported.</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="xml"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk17">&lt;</span><span class="mtk4">streams</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">	</span><span class="mtk17">&lt;</span><span class="mtk4">Mjpg</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    	</span><span class="mtk17">&lt;</span><span class="mtk4">enabled</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;bool&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">true</span><span class="mtk17">&lt;/</span><span class="mtk4">enabled</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    	</span><span class="mtk17">&lt;</span><span class="mtk4">streamPort</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">8889</span><span class="mtk17">&lt;/</span><span class="mtk4">streamPort</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    	</span><span class="mtk17">&lt;</span><span class="mtk4">quality</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">75</span><span class="mtk17">&lt;/</span><span class="mtk4">quality</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    	</span><span class="mtk17">&lt;</span><span class="mtk4">username</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;&lt;/</span><span class="mtk4">username</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    	</span><span class="mtk17">&lt;</span><span class="mtk4">password</span><span class="mtk1"> </span><span class="mtk12">type</span><span class="mtk1">=</span><span class="mtk8">&quot;number&quot;</span><span class="mtk17">&gt;</span><span class="mtk1">75</span><span class="mtk17">&lt;/</span><span class="mtk4">password</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk17">&lt;/</span><span class="mtk4">Mjpg</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk17">&lt;/</span><span class="mtk4">streams</span><span class="mtk17">&gt;</span></span></code></pre><h4 id="enabled-1" class="css-14t8hvg"><a href="#enabled-1" class="css-1r0pe6c">Enabled</a></h4><p class="css-1ftn47p">A boolean which turns ON/OFF the stream. This is interesting when working with IP cameras, where you already have an RTSP/MJPG stream from the camera itself.</p><h4 id="stream-port" class="css-14t8hvg"><a href="#stream-port" class="css-1r0pe6c">Stream Port</a></h4><p class="css-1ftn47p">The port on which the stream is available.</p><h4 id="quality" class="css-14t8hvg"><a href="#quality" class="css-1r0pe6c">Quality</a></h4><p class="css-1ftn47p">The quality is a value between <!-- -->[0-100]<!-- -->. The lower the quality, the more the image will be compressed. If you&#x27;re using the RaspberryPi Camera module, this option will be ignored.</p><h4 id="usernamepassword" class="css-14t8hvg"><a href="#usernamepassword" class="css-1r0pe6c">Username/password</a></h4><p class="css-1ftn47p">You can secure the MJPEG streaming with a username and password. These credentials will be used to authorize your requests using Basic Authentication. Please note that once enabled, the live stream on the dashboard page can fail; however it will work if you open it directly in your browser or ip camera client. The format of the streaming url, after authentication enabled, will look as following:</p><pre class="default-dark vscode-highlight css-1h0sj8d" data-language="ts"><code class="vscode-highlight-code css-155ufdz"><span class="vscode-highlight-line"><span class="mtk1">http:</span><span class="mtk3">//username:password@ip-camera:8899</span></span></code></pre><style class="vscode-highlight-styles">
  :root {
  --vscode-highlight-padding-v: 1rem;
  --vscode-highlight-padding-h: 1.5rem;
  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);
  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);
  --vscode-highlight-border-radius: 8px;

  --vscode-highlight-line-highlighted-background-color: transparent;
  --vscode-highlight-line-highlighted-border-width: 4px;
  --vscode-highlight-line-highlighted-border-color: transparent;
}

.vscode-highlight {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-top: 1rem;
  padding-top: var(--vscode-highlight-padding-top);
  padding-bottom: 1rem;
  padding-bottom: var(--vscode-highlight-padding-bottom);
  border-radius: 8px;
  border-radius: var(--vscode-highlight-border-radius);
  font-feature-settings: normal;
}

.vscode-highlight-code {
  display: inline-block;
  min-width: 100%;
}

.vscode-highlight-line {
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding-left: 1.5rem;
  padding-left: var(--vscode-highlight-padding-left);
  padding-right: 1.5rem;
  padding-right: var(--vscode-highlight-padding-right);
}

.vscode-highlight-line-highlighted {
  background-color: var(--vscode-highlight-line-highlighted-background-color);
  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);
}

  .default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.default-dark .mtk1 { color: #D4D4D4; }
.default-dark .mtk2 { color: #1E1E1E; }
.default-dark .mtk3 { color: #6A9955; }
.default-dark .mtk4 { color: #569CD6; }
.default-dark .mtk5 { color: #D16969; }
.default-dark .mtk6 { color: #D7BA7D; }
.default-dark .mtk7 { color: #B5CEA8; }
.default-dark .mtk8 { color: #CE9178; }
.default-dark .mtk9 { color: #646695; }
.default-dark .mtk10 { color: #4EC9B0; }
.default-dark .mtk11 { color: #DCDCAA; }
.default-dark .mtk12 { color: #9CDCFE; }
.default-dark .mtk13 { color: #000080; }
.default-dark .mtk14 { color: #F44747; }
.default-dark .mtk15 { color: #C586C0; }
.default-dark .mtk16 { color: #6796E6; }
.default-dark .mtk17 { color: #808080; }
.default-dark .mtki { font-style: italic; }
.default-dark .mtkb { font-weight: bold; }
.default-dark .mtku { text-decoration: underline; text-underline-position: under; }
</style></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/opensource/machinery";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-763ba89563852604ac82.js"],"component---src-architectures-mdx":["/component---src-architectures-mdx-59797ae6d32469e12283.js"],"component---src-how-mdx":["/component---src-how-mdx-862fec3a25977edfefb0.js"],"component---src-index-mdx":["/component---src-index-mdx-9c12bbc9a34d9d1d23fe.js"],"component---src-enterprise-get-started-mdx":["/component---src-enterprise-get-started-mdx-0cd8d01d349ed3f71c1e.js"],"component---src-enterprise-index-mdx":["/component---src-enterprise-index-mdx-85ef6403879fa22721de.js"],"component---src-enterprise-releases-mdx":["/component---src-enterprise-releases-mdx-8c4587c8221387d811c4.js"],"component---src-enterprise-installation-mdx":["/component---src-enterprise-installation-mdx-410507a156a1f7aeb54a.js"],"component---src-open-source-get-started-mdx":["/component---src-open-source-get-started-mdx-10472bb3173d4b759b9a.js"],"component---src-open-source-index-mdx":["/component---src-open-source-index-mdx-ffd29f8f6e8d9e5e5511.js"],"component---src-open-source-upgrade-mdx":["/component---src-open-source-upgrade-mdx-91c628a383285d21bc28.js"],"component---src-open-source-web-mdx":["/component---src-open-source-web-mdx-4d03f2f69f91030cea2c.js"],"component---src-storage-get-started-mdx":["/component---src-storage-get-started-mdx-d1ab2d273ebeeeed4f5f.js"],"component---src-storage-index-mdx":["/component---src-storage-index-mdx-314944765c346c2ffc55.js"],"component---src-storage-installation-mdx":["/component---src-storage-installation-mdx-8364eca8528b5ebccd63.js"],"component---src-cloud-index-mdx":["/component---src-cloud-index-mdx-fcbc1b0def1bf9e39521.js"],"component---src-open-source-contribute-mdx":["/component---src-open-source-contribute-mdx-d67bf0c816a95ff396ba.js"],"component---src-open-source-installation-advanced-mdx":["/component---src-open-source-installation-advanced-mdx-4c101921b2d44c097a1c.js"],"component---src-open-source-installation-mdx":["/component---src-open-source-installation-mdx-6647a45cb95e87c13d68.js"],"component---src-open-source-license-mdx":["/component---src-open-source-license-mdx-f82eb54e22f879e81404.js"],"component---src-open-source-releases-mdx":["/component---src-open-source-releases-mdx-e523e27ad3c7a365b5bc.js"],"component---src-storage-license-mdx":["/component---src-storage-license-mdx-81f37cd2a4e12314c3c9.js"],"component---src-open-source-machinery-mdx":["/component---src-open-source-machinery-mdx-5e469206697413cf99e2.js"],"component---src-pages-404-js":["/component---src-pages-404-js-befe163995c77d62b43a.js"]};/*]]>*/</script><script src="/webpack-runtime-52817340e06fdd073233.js" async=""></script><script src="/styles-7ad014c60854ef6c760f.js" async=""></script><script src="/app-763ba89563852604ac82.js" async=""></script><script src="/bac1b955-b3ed184e65a51596b9b1.js" async=""></script><script src="/fa7ae31b-dc6f0a12596390e963fc.js" async=""></script><script src="/7146176d69ad7a79f580a95e853f76609bf46d70-ebb8bf157b9ff0a75730.js" async=""></script><script src="/component---src-open-source-machinery-mdx-5e469206697413cf99e2.js" async=""></script><script src="/framework-5931f587964c62d7d0a3.js" async=""></script></body></html>